<h2 id="learning-objectives">
  <span>Learning Objectives</span>
</h2>
<p>After completing this lesson, you’ll be able to:</p>
<ul>
  <li>Define a custom transformer.</li>
  <li>Explain when to use a custom transformer.</li>
  <li>Create a custom transformer and set its properties.</li>
  <li>Reuse a custom transformer in multiple places in a workspace.</li>
</ul>
<h2 id="what-are-custom-transformers">
  <span>What Are Custom Transformers?</span>
</h2>
<p>A custom transformer is a sequence of standard transformers condensed into a single transformer. You can turn any existing sequence of transformers into a custom transformer.</p>
<p><img src="https://s3.amazonaws.com/gitbook/Desktop-Advanced-2019/DesktopAdvanced5CustomTransformers/Images/Img5.001.CustomTransformer.png" alt="Turning many transformers into a custom transformer" class="image image-block image-center" /></p>
<p>Users can share custom transformers. For example, the workspace above has a MeasureInterpolator custom transformer, which a user shared via the <a href="https://hub.safe.com/transformers/measureinterpolator" rel="noreferrer noopener" target="_blank">FME Hub</a>.</p>
<h2 id="custom-transformer-purposes">
  <span>Custom Transformer Purposes</span>
</h2>
<p>Custom transformers let you:</p>
<ul>
  <li>Reuse Content<ul>
      <li>After encapsulating a sequence of transformers in a single object, you can reuse it throughout a workspace and share it with colleagues.</li>
    </ul>
  </li>
  <li>Employ Advanced Functionality<ul>
      <li>You can use a custom transformer to access additional functionality, such as looping and parallel processing.</li>
    </ul>
  </li>
  <li>Tidy Workspaces<ul>
      <li>You can declutter your workspace canvas by condensing chunks of content into custom transformers.</li>
    </ul>
  </li>
</ul>
<p>This course will teach you the basics of creating a custom transformer, controlling its input and output ports, and using parameters to let users control how it works.</p>
<div class="box message info">
  <div class="inner">
    <div class="bd">
      <div class="media">
        <img class="img mtm" role="presentation" src="https://safemytrailhead.s3.us-west-2.amazonaws.com/images/safe_note.png" alt="Note" />
        <div class="mediaBd">
          <div class="message-media-content">
            <p>If you want to learn more about sharing custom transformers, check out <a href="https://safe.my.trailhead.com/content/safe/modules/build-a-shared-library-of-custom-transformers" rel="noreferrer noopener" target="_blank">Build a Shared Library of Custom Transformers</a>. </p>
            <p>If you want to learn how to use custom transformers with looping, check out <a href="https://s3.amazonaws.com/gitbook/Desktop-Advanced-2019/DesktopAdvanced5CustomTransformers/5.11.CustomTransformerLoops.html" rel="noreferrer noopener" target="_blank">Custom Transformers and Loops</a>.</p>
            <p>If you want to learn how to use custom transformers to improve your performance with parallel processing, check out <a href="https://safe.my.trailhead.com/content/safe/modules/design-for-performance" rel="noreferrer noopener" target="_blank">Design for Performance</a>.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<h2 id="creating-a-custom-transformer">
  <span>Creating a Custom Transformer</span>
</h2>
<p>You can create a custom transformer from scratch – i.e., start with an empty custom transformer and add content into it, or create it from an existing sequence of transformers.</p>
<p>Custom transformers are created by either selecting<strong> Create Custom Transformer </strong>from the canvas context (right-click) menu or by selecting<strong> Transformers </strong>&gt; <strong>Create Custom Transformer </strong>from the menubar. The shortcut key for this function is Ctrl + T (or Cmd ⌘ + T on a Mac).</p>
<p><img src="https://s3.amazonaws.com/gitbook/Desktop-Advanced-2019/DesktopAdvanced5CustomTransformers/Images/Img5.002.CustomTransformerMenubar.png" alt="Transformers &gt; Create Custom Transformer" class="image image-block image-center" /></p>
<p>If several transformers are selected when you issue the<strong> Create Custom Transformer </strong>command, the new custom transformer will automatically contain them. Otherwise, the new custom transformer will be empty except for an input and output port.</p>
<p>Here a user is creating a new custom transformer based on a series of existing ones:</p>
<p><img src="https://s3.amazonaws.com/gitbook/Desktop-Advanced-2019/DesktopAdvanced5CustomTransformers/Images/Img5.003.CustomTransformerContextMenu.png" alt="Right-click &gt; Create Custom Transformer" class="image image-block image-center" /></p>
<p>The new custom transformer will contain these three transformers.</p>
<h2 id="naming-a-custom-transformer">
  <span>Naming a Custom Transformer</span>
</h2>
<p>All custom transformers require a name and (optionally) a category and description. A dialog to define these automatically appears when you create a new custom transformer.</p>
<p>You can set the category to match any existing FME transformer category or a custom category of your own.</p>
<p>The<strong> Use Markdown </strong>parameter lets you enter information about the custom transformer, such as requirements for use, development history, and legal terms and conditions, using <a href="https://daringfireball.net/projects/markdown/syntax" rel="noreferrer noopener" target="_blank">Markdown</a>.</p>
<p><img src="https://s3.amazonaws.com/gitbook/Desktop-Advanced-2019/DesktopAdvanced5CustomTransformers/Images/Img5.004.CustomTransformerNaming.png" alt="Create Custom Transformer dialog" class="image image-block image-center" /></p>
<p>These fields are critical when you intend to share the custom transformer with work colleagues or clients or with the larger FME Community on the <a href="https://hub.safe.com/" rel="noreferrer noopener" target="_blank">FME Hub</a>.</p>
<h2 id="the-new-custom-transformer">
  <span>The New Custom Transformer</span>
</h2>
<p>A newly created custom transformer then looks like this:</p>
<p><img src="https://s3.amazonaws.com/gitbook/Desktop-Advanced-2019/DesktopAdvanced5CustomTransformers/Images/Img5.005.NewCustomTransformer.png" alt="Editing a custom transformer" class="image image-block image-center" /></p>
<p>It appears under a new tab on the Workbench canvas and consists of the original transformers with additional input and output objects.</p>
<p>When you click on the Main tab to return to the main canvas view, you will see that Workbench has replaced the original transformers with a custom transformer object:</p>
<p><img src="https://s3.amazonaws.com/gitbook/Desktop-Advanced-2019/DesktopAdvanced5CustomTransformers/Images/Img5.006.CustomTransformeronCanvas.png" alt="Custom transformer on the canvas" class="image image-block image-center" /></p>
<p>This custom transformer looks and behaves in the same way as any standard FME transformer, with input and output ports (that match the input/output objects in the custom transformer tab), plus a parameters dialog.</p>
<h2 id="editing-a-custom-transformer">
  <span>Editing a Custom Transformer</span>
</h2>
<p>To edit the contents of a custom transformer, click on the tab for that transformer. This action opens the transformer definition, and you may edit the content in the same way you would in the main canvas.</p>
<p>In the Navigator window, where a workspace would have a section labeled Workspace Parameters, a custom transformer has Transformer Parameters:</p>
<p><img src="https://s3.amazonaws.com/gitbook/Desktop-Advanced-2019/DesktopAdvanced5CustomTransformers/Images/Img5.007.CustomTransformerNavWindow.png" alt="Custom transformer Navigator" class="image image-block image-center" /></p>
<p>In this section, you can edit the information you entered earlier – name, category, description, etc.</p>
<h2 id="creating-a-custom-transformer-from-scratch">
  <span>Creating a Custom Transformer From Scratch</span>
</h2>
<p>If you create a custom transformer from scratch, without any original transformers selected, it would start empty and look like this:</p>
<p><img src="images/1652206287385.png" class="image image-block image-center" alt="Custom transformer from scratch" /></p>
<p><br /><br />Then you can start building or editing the transformer from scratch. There is not much difference between creating content in the main canvas and turning it into a custom transformer and creating an empty custom transformer and creating the content in there.</p>
<h2 id="using-custom-transformers">
  <span>Using Custom Transformers</span>
</h2>
<p>Once you create a custom transformer, it appears on the main canvas and - apart from a different color - looks just like a standard FME transformer.</p>
<p>However, the resemblance to a standard transformer is not just in appearance. In the same way that you can use multiple instances of a transformer in a workspace, you can use a custom transformer any number of times. This feature means custom transformers let you tidy a workspace and reuse content.</p>
<p>To place extra copies of a custom transformer you use - again like a standard transformer - the Transformer Gallery (look under a section labeled “Embedded Transformers):</p>
<p><img src="https://s3.amazonaws.com/gitbook/Desktop-Advanced-2019/DesktopAdvanced5CustomTransformers/Images/Img5.009.CustomTransformersInGallery.png" alt="Custom transformer in the Transformer Gallery" class="image image-block image-center" /></p>
<p>...or you can use Quick Add:</p>
<p><img src="https://s3.amazonaws.com/gitbook/Desktop-Advanced-2019/DesktopAdvanced5CustomTransformers/Images/Img5.010.CustomTransformersQuickAdd.png" alt="Adding a custom transformer with Quick Add" class="image image-block image-center" /></p>
<div class="box message info">
  <div class="inner">
    <div class="bd">
      <div class="media">
        <img class="img mtm" role="presentation" src="https://safemytrailhead.s3.us-west-2.amazonaws.com/images/safe_note.png" alt="Note" />
        <div class="mediaBd">
          <div class="message-media-content">
            <p>The transformer name, category, and description appear in both the Quick Add tool and the help window, so it is worth setting these parameters.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<h2 id="editing-a-reused-custom-transformer">
  <span>Editing a Reused Custom Transformer</span>
</h2>
<p>Multiple instances of a custom transformer all use the same core definition, i.e., there may be multiple instances on the Main canvas, but only a single definition exists for all of them.</p>
<p>An essential benefit of this approach is that <em>every</em> instance is updated or edited when the custom transformer definition is changed.</p>
<p>For example, if you change a parameter for the Aggregator inside this custom transformer:</p>
<p><img src="https://s3.amazonaws.com/gitbook/Desktop-Advanced-2019/DesktopAdvanced5CustomTransformers/Images/Img5.011.ExampleParameterEdit.png" alt="Editing a reused custom transformer" class="image image-block image-center" /></p>
<p>...then the parameter automatically changes for <em>all</em> instances of the transformer in the workspace.</p>
<p>Editing is more straightforward because changes only need to be made once, no matter how many times you have used that custom transformer.</p>