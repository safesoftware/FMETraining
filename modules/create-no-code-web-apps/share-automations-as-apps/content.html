<h2 id="introduction">
  <span>Introduction</span>
</h2>
<p>Automation Apps allow authorized users to manually trigger Automations via a webpage.</p>
<div class="box message info">
  <div class="inner">
    <div class="bd">
      <div class="media">
        <img class="img mtm" role="presentation" src="https://res.cloudinary.com/hy4kyit2a/image/upload/doc/trailhead/en-usb473bb5ea1b7e61dfb07e6a7e547de6b.gif" alt="Note" />
        <div class="mediaBd">
          <div class="message-media-content">
            <p>Automation Apps are new to FME Server 2022.2.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<p>When you create an Automation app, FME Server will generate an app page with a valid token that includes the necessary permissions. The app is shared as a URL and may be presented through a customizable web page. By building a <a href="https://docs.safe.com/fme/html/FME_Server_Documentation/WebUI/Gallery-Apps.htm" rel="noreferrer noopener" target="_blank">Gallery App</a>, you can provide users with access to multiple Automation Apps, workspace apps, and other links from a single, customizable web page. We'll cover Gallery Apps in <a href="https://safe.my.trailhead.com/content/safe/modules/create-no-code-web-apps/use-gallery-apps" rel="noreferrer noopener" target="_blank">the next unit</a>.<br /><br />The ability to publish Automations as FME Server Apps enables users to run complex workflows on demand with configurable input parameters. Before 2022.2, FME Workspace apps could only trigger a single FME workspace. With Automation Apps, we can now trigger more advanced, multi-workspace, and multi-action workflows. This will benefit end-users and allow complex workflows to be created, shared, and leveraged across organizations. </p>
<h2 id="building-an-automation-app">
  <span>Building an Automation App</span>
</h2>
<p>You can create an Automation App by clicking the New button on either the Build Automation App page or the Manage Automation Apps page. You can find both pages under Server Apps on the side menu panel. Please note that Automation Apps can only be created if the automation trigger uses a <a href="https://docs.safe.com/fme/html/FME_Server_Documentation/WebUI/Automations-Triggers/Trigger-Manual.htm" rel="noreferrer noopener" target="_blank">manual trigger</a>. Select Build Automation Apps from the drop-down menu:</p>
<p><img src="images/1665768849805.png" class="image image-block image-center" alt="Build Automation App" /></p>
<p> </p>
<p>You will see an error message on the Create Automation App page if you do not have any Manual Trigger Automations.</p>
<p><img src="images/1665768879061.png" class="image image-block image-center" alt="Error if no Manual Trigger Automations available" /></p>
<h2 id="parameters">
  <span>Parameters</span>
</h2>
<p>You will need to configure a few parameters when building your Automation app:</p>
<p><img src="images/1665768917054.png" class="image image-block image-center" alt="Server Apps - Create Automation App page" /></p>
<p><strong>Name</strong>: Provide a name for the app. The name appears on the run page for the app and will also become part of the URL for the run page. App names are case-insensitive. The name will appear as &lt;Name&gt; Automation app on the run page.</p>
<p><strong>Title (optional)</strong>: The title will be displayed at the top of the app in the browser tab</p>
<p><strong>Description (optional)</strong>: Provide a description or additional information for the app. The text body will be located below the name on the run page.   </p>
<p><strong>Automation</strong>: Select an Automation with Manual Trigger. Ensure the Automation is started.</p>
<p><strong>Expiration</strong>: FME Server creates a token to authenticate the Automation app. The token automatically has the necessary permissions required for the user to run the application. You can set the expiration date for the security token of the app. After the token expires, the Automation app will no longer run. The default expiration is ten years from the current date.</p>
<p><strong>Allowed Users</strong>: All Automation Apps require the creator to specify which users are allowed access to run the application. When users go to the FME Server Automation app URL, they must log in to FME Server first before seeing the run app page. Access to the app is restricted to authorized FME Server <a href="https://docs.safe.com/fme/2022.0/html/FME_Server_Documentation/WebUI/Users.htm" rel="noreferrer noopener" target="_blank">Users</a> who belong to the specified <a href="https://docs.safe.com/fme/2022.0/html/FME_Server_Documentation/WebUI/Roles.htm" rel="noreferrer noopener" target="_blank">Roles</a>. </p>
<p> </p>
<p><img src="images/1665770307949.png" class="image image-block image-center" alt="Selecting the Allowed Users" /></p>
<p><img src="images/1665770330554.png" class="image image-block image-center" alt="Logging in is required to access the Automation App" /></p>
<div class="box message info">
  <div class="inner">
    <div class="bd">
      <div class="media">
        <img class="img mtm" role="presentation" src="https://res.cloudinary.com/hy4kyit2a/image/upload/doc/trailhead/en-usb473bb5ea1b7e61dfb07e6a7e547de6b.gif" alt="Note" />
        <div class="mediaBd">
          <div class="message-media-content">
            <p>You can choose if users must log in to access Workspace Apps, but users must log in to access Automation Apps.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<h2 id="automation-parameters-from-manual-keys">
  <span>Automation Parameters from Manual Keys</span>
</h2>
<p>Automation Apps enable complex workflows to be run on demand with configurable input parameters. The manual trigger in Automations can now be configured to prompt you with a list of parameters generated from the existing manual keys. The manual keys will appear as parameters on the Automation Apps page. To create manual keys, you will need to go to Automations &gt; Manual Trigger &gt; Output Keys &gt; Success &gt; Manual Keys &gt; Manage Keys.</p>
<p><img src="images/1665770390560.png" class="image image-block image-center" alt="Manage Keys button" /></p>
<div class="box message info">
  <div class="inner">
    <div class="bd">
      <div class="media">
        <img class="img mtm" role="presentation" src="https://res.cloudinary.com/hy4kyit2a/image/upload/doc/trailhead/en-usb473bb5ea1b7e61dfb07e6a7e547de6b.gif" alt="Note" />
        <div class="mediaBd">
          <div class="message-media-content">
            <p>See the <a href="https://docs.safe.com/fme/2022.0/html/FME_Server_Documentation/WebUI/Automations-Triggers/Trigger-Manual.htm" rel="noreferrer noopener" target="_blank">Manual Trigger</a> and <a href="https://docs.safe.com/fme/html/FME_Server_Documentation/WebUI/Automations-General/Working-with-Output-Keys-in-Workflows.htm" rel="noreferrer noopener" target="_blank">Output Keys</a> pages in the documentation for more details. The <a href="https://safe.my.trailhead.com/content/safe/modules/build-versatile-automations" rel="noreferrer noopener" target="_blank">Build Versatile Automations module</a> also has some examples of using output keys.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<p>Once you select Manage Keys, a pop-up window will appear. The left panel allows for key management, and the right panel allows for key parameter definitions. To define Manual Keys, click the + button to add a Key. The Manual Keys supported in FME Server 2022.2 include Choice, Color, Date Time, File/URL, Message, Number, Password, Text, Yes/No, and Geometry. Key parameters include Key (required), Prompt (required), a Required checkbox, Default Value (optional), and any additional parameters based on the Key type. Keys must have unique names. In the left panel, you can arrange the ordering of keys with the up and down arrows or by drag and drop.</p>
<p>The left-hand side of the Manual Keys Editor is where all your created parameters are shown, as well as options to add new ones, reorder, and delete. The right-hand side is where you can find the parameters for the newly created or selected Keys.</p>
<p><img src="images/1665770418106.png" class="image image-block image-center" alt="Manual Keys Editor" /></p>
<h2 id="customize">
  <span>Customize</span>
</h2>
<p>Like Workspace apps, Automation Apps allow for the flexibility of customizing the appearance of your application. The look and feel of your Automation app can be tailored to your organization’s colors, logo, and images. At the bottom of the Customize section, you also have the option to Run Immediately. This is to specify the app to run as soon as its URL is invoked without displaying a run page. The parameters below used to customize the application run page are all optional. The Icon, Logo, and Banner parameters only support JPEG and PNG file formats. </p>
<p><strong>Browser Icon (optional)</strong>: The icon will be visible in the browser tab. There is a 300 KB file size limit for icon images. </p>
<p><strong>Heading Background Color (optional)</strong>: Configure the banner's background color at the top of the app page. It appears behind the Heading Banner if transparent. </p>
<p><strong>Heading Logo (Optional)</strong>: This will appear above the Heading Banner and/or Heading Background Color. There is a 1 MB file size limit for the image. </p>
<p><strong>Heading Banner (optional)</strong>: This image will appear at the top of the app page. If transparent, it appears over Heading Background Color. There is a 1 MB file size limit for the image. </p>
<p><strong>Footer Text (optional)</strong>: The text appears below the links on the app page. </p>
<p><strong>Footer Logo (optional)</strong>: This appears beneath the Footer Text and behind the Footer Banner if transparent. There is a 1 MB file size limit for the image. </p>
<p><strong>Footer Banner (optional)</strong>: An image to comprise the banner at the bottom of the app page. If transparent, it appears over Footer Logo. There is a 1 MB file size limit for the image. </p>
<p><strong>Run Immediately</strong>: Option to configure the Automation app to run immediately once the URL is invoked without displaying a run page. </p>
<p><img src="images/1665770448654.png" class="image image-block image-center" alt="Automation Apps Customize parameters" /></p>
<p> </p>
<p>Here is an example of an Automation app with and without a customized run page:</p>
<p><img src="images/1665770480606.png" class="image image-block image-center" alt="Automation App demo page" /></p>
<p><img src="images/1665770505582.png" class="image image-block image-center" alt="Automation App Demo page" /></p>
<p><br />Click OK, and a message will indicate that FME Server has created the app and will provide its URL. You may click the Copy icon to copy the URL. To run the app, click the URL. Once your Automation app is created, the security token can be accessed on the API Tokens tab of the Token Management page:<img src="images/1665770783547.png" class="image image-block image-center" alt="App creation confirmation page" /></p>
<h2 id="managing-automation-apps">
  <span>Managing Automation Apps</span>
</h2>
<p>By default, all apps are enabled to run when created. To disable or enable an app, select an app, then select Actions &gt; Disable or Enable from the Manage Automation Apps page.</p>
<p>Like Workspace Apps, you can view or copy the URL from the main Server Apps &gt; Manage Automation Apps page. You can also change the expiration date of an app by selecting the app and choosing Change Expiration from the Actions dropdown menu.</p>
<p><img src="images/1665771358625.png" class="image image-block image-center" alt="View and URL buttons" /> </p>
<p><img src="images/1665771386378.png" class="image image-block image-center" alt="Change Expiration option" /></p>
<p> </p>
<p>Another option to manage the expiration of an Automation app is via the Token Management page. This is because the expiration is managed by the token that authorizes the app's usage. To access the Token Management page, click Manage Tokens from the User Settings dropdown (top right of the FME Server Web Interface). You should see the token created for your app on the Token Management page. Click it to edit its parameters. You can edit the token description on the page, enable or disable the token (disabling the token will disable your app), and change the expiration date.</p>
<p><img src="images/1665784950332.png" class="image image-block image-center" alt="Manage Tokens" /></p>
<p><img src="images/1665784968166.png" class="image image-block image-center" alt="Token Management page" /></p>
<h2 id="automation-app-keys">
  <span>Automation App Keys</span>
</h2>
<p>Keys enable the Automation author to pass data values from one Automation component to the next. With the addition of Automation Apps in FME Server 2022.2 and newer, three new keys have been added: </p>
<ul>
  <li>Automation App ID {app.id} - The ID of the automation app that ran the automation.</li>
  <li>Automation App Name {app.name} - The name of the automation app that ran the automation.</li>
  <li>Automation App Runtime User {app.user} - The user who ran the automation app that ran the automation.</li>
</ul>
<p>Automation app keys become accessible after creating an Automation app from an Automation. Once the app is created, any Action downstream from the Manual Trigger can use Automation app keys as parameters. Inside the Action details, find them in the drop-down menu next to a parameter. The Automation App is listed alongside other types of keys, such as Manual, Event, etc. Expand Automation App to find the three new keys.</p>
<h2 id>
  <span><img src="images/1665785013173.png" class="image image-block image-center" alt="Finding Automation App Name" /></span>
</h2>
<p>Automation app keys may also be selected from the Text Editor's sidebar.<img src="images/1665785048760.png" class="image image-block image-center" alt="Automation App keys in the Text Editor" /></p>
<div class="box message info">
  <div class="inner">
    <div class="bd">
      <div class="media">
        <img class="img mtm" role="presentation" src="https://res.cloudinary.com/hy4kyit2a/image/upload/doc/trailhead/en-usb473bb5ea1b7e61dfb07e6a7e547de6b.gif" alt="Note" />
        <div class="mediaBd">
          <div class="message-media-content">
            <p>For more information on Automations and keys, please see the <a href="https://www.safe.com/webinars/automation-keys-what-they-are-and-why-you-should-use-them/" rel="noreferrer noopener" target="_blank">Automation Keys: What They Are and Why You Should Use Them</a> webinar. </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<h2 id="quick-troubleshooting-tips">
  <span>Quick Troubleshooting Tips</span>
</h2>
<ul>
  <li>The Automation must be based on a manual trigger.</li>
  <li>If you receive a warning message saying, "The selected automation is disabled," your app may be enabled, but the Automation it runs may not be started. Please start the Automation by going to Automations &gt; Manage Automations &gt;  Select the Automation and click Actions &gt; Start.</li>
</ul>
<p><img src="images/1665785089963.png" class="image image-block image-center" alt="The selected automation is disabled" /></p>
<p><img src="images/1665785146505.png" class="image image-block image-center" alt="Start Automation" /></p>
<div class="box message info">
  <div class="inner">
    <div class="bd">
      <div class="media">
        <img class="img mtm" role="presentation" src="https://res.cloudinary.com/hy4kyit2a/image/upload/doc/trailhead/en-usb473bb5ea1b7e61dfb07e6a7e547de6b.gif" alt="Note" />
        <div class="mediaBd">
          <div class="message-media-content">
            <p>For future reading, see these resources:</p>
            <ul>
              <li>Documentation: <a href="https://docs.safe.com/fme/2022.2/html/FME_Server_Documentation/WebUI/Automation-Apps.htm" rel="noreferrer noopener" target="_blank">Automation Apps</a></li>
              <li>Documentation: <a href="https://docs.safe.com/fme/2022.0/html/FME_Server_Documentation/WebUI/Automations-Triggers/Trigger-Manual.htm" rel="noreferrer noopener" target="_blank">Manual Trigger</a></li>
              <li>Documentation: <a href="https://docs.safe.com/fme/2022.0/html/FME_Server_Documentation/WebUI/Gallery-Apps.htm" rel="noreferrer noopener" target="_blank">Gallery Apps</a></li>
              <li><a href="https://community.safe.com/s/article/fme-server-troubleshooting-usersroles" rel="noreferrer noopener" target="_blank">FME Server Troubleshooting: Users/Roles</a></li>
              <li><a href="https://docs.safe.com/fme/2022.0/html/FME_Server_Documentation/AdminGuide/AccessControl.htm" rel="noreferrer noopener" target="_blank">FME Server Documentation - Roles</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<h2 id="have-ideas-on-how-to-improve-this">
  <span>Have Ideas On How To Improve This?</span>
</h2>
<p>Help shape the future of FME Server Automation Apps by adding product suggestions to our <a href="https://community.safe.com/s/idea/Idea/00B4Q00000ABiEt" rel="noreferrer noopener" target="_blank">Ideas Forum</a>. </p>