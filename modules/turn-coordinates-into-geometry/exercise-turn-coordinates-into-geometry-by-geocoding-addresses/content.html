<h2 id="learning-objectives">
  <span>Learning Objectives</span>
</h2>
<p>After completing this unit, you'll be able to:</p>
<ul>
  <li>Create points using addresses.</li>
  <li>Understand the limitations of geocoding services.</li>
</ul>
<h2 id="video">
  <span>Video</span>
</h2>
<p><span><iframe width="640" height="360" src="https://play.vidyard.com/Bd9vKUgyWRGr3KCXxxKb42" allowfullscreen title="Video Content" class="image-center"></iframe></span></p>
<h2 id="resources">
  <span>Resources</span>
</h2>
<ul>
  <li><a href="https://s3.amazonaws.com/FMEData/FMEData2022/Resources/IntegrateSpatialData/CulturalSpaces2016.csv" rel="noreferrer noopener" target="_blank">CulturalSpaces2016.csv</a></li>
</ul>
<h2 id="introduction">
  <span>Introduction</span>
</h2>
<p>Sometimes your dataset will only contain addresses without latitude/longitude data. To handle these kinds of situations, you can use the <a href="http://docs.safe.com/fme/html/FME_Desktop_Documentation/FME_Transformers/Transformers/geocoder.htm" rel="noreferrer noopener" target="_blank">Geocoder</a> transformer.</p>
<p>The following services are supported:</p>
<table class="featureTable sort_table" style="width:100%">
  <tbody class="tbody">
    <tr>
      <td style="width:50.0000%"><strong>Service</strong></td>
      <td style="width:50.0000%"><strong>Mode</strong></td>
    </tr>
    <tr>
      <td style="width:50.0000%">ArcGIS Online</td>
      <td style="width:50.0000%">Forward, Reverse</td>
    </tr>
    <tr>
      <td style="width:50.0000%">ArcGIS Server</td>
      <td style="width:50.0000%">Forward, Reverse</td>
    </tr>
    <tr>
      <td style="width:50.0000%">Bing</td>
      <td style="width:50.0000%">Reverse</td>
    </tr>
    <tr>
      <td style="width:50.0000%">Geocode.Farm</td>
      <td style="width:50.0000%">Forward, Reverse</td>
    </tr>
    <tr>
      <td style="width:50.0000%">Geocoder.ca</td>
      <td style="width:50.0000%">Forward, Reverse</td>
    </tr>
    <tr>
      <td style="width:50.0000%">Google</td>
      <td style="width:50.0000%">Forward, Reverse, Elevation, Timezone</td>
    </tr>
    <tr>
      <td style="width:50.0000%">HERE</td>
      <td style="width:50.0000%">Forward, Reverse</td>
    </tr>
    <tr>
      <td style="width:50.0000%">IPInfo.io</td>
      <td style="width:50.0000%">IP Address</td>
    </tr>
    <tr>
      <td style="width:50.0000%">ipstack</td>
      <td style="width:50.0000%">IP Address</td>
    </tr>
    <tr>
      <td style="width:50.0000%">OpenCage</td>
      <td style="width:50.0000%">Forward, Reverse</td>
    </tr>
    <tr>
      <td style="width:50.0000%">OpenStreetMap</td>
      <td style="width:50.0000%">Forward, Reverse</td>
    </tr>
    <tr>
      <td style="width:50.0000%">TAMU</td>
      <td style="width:50.0000%">Forward, with census region information</td>
    </tr>
  </tbody>
</table>
<div class="box message info">
  <div class="inner">
    <div class="bd">
      <div class="media">
        <img class="img mtm" role="presentation" src="https://res.cloudinary.com/hy4kyit2a/image/upload/doc/trailhead/en-usb473bb5ea1b7e61dfb07e6a7e547de6b.gif" alt="Note" />
        <div class="mediaBd">
          <div class="message-media-content">
            <p>Usage of the transformer may use credits with the service, and you may be subject to transaction limits.</p>
            <p>Many services have additional requirements for use. A common requirement is that the resulting data be displayed on a map from the same service. Storage of result data in a database may also require additional fees. Please consult the terms of service of the geocoding providers (listed above) to ensure that your use complies.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<p>Some Geocoder services support "reverse geocoding," finding the nearest address given a coordinate. Note also that the exact address formatting that will give you the best chance of successfully geocoding will vary by service. Refer to the service's documentation and use an AttributeManager or other transformers to ensure you are giving the transformer an address format it expects.</p>
<div class="box message info">
  <div class="inner">
    <div class="bd">
      <div class="media">
        <img class="img mtm" role="presentation" src="https://res.cloudinary.com/hy4kyit2a/image/upload/doc/trailhead/en-usb473bb5ea1b7e61dfb07e6a7e547de6b.gif" alt="Note" />
        <div class="mediaBd">
          <div class="message-media-content">
            <p>The <a href="http://docs.safe.com/fme/html/FME_Desktop_Documentation/FME_Transformers/Transformers/geocoder.htm" rel="noreferrer noopener" target="_blank">Geocoder</a> <a href="https://docs.safe.com/fme/html/FME_Desktop_Documentation/FME_Desktop/Workbench/options-FME-packages.htm" rel="noreferrer noopener" target="_blank">FME Package</a> transformer replaces the Geocoder originally shipped with FME 2021.1 and older versions.</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<h2 id="exercise">
  <span>Exercise</span>
</h2>
<ol>
  <li>Open FME Workbench 2022.0. Click Blank Workspace to start a new workspace. Click Readers &gt; Add Reader and set Format to CSV (Comma-Separated Value).</li>
  <li>Click the ellipsis button [...] and select the downloaded <a href="https://s3.amazonaws.com/FMEData/FMEData2022/Resources/IntegrateSpatialData/CulturalSpaces2016.csv" rel="noreferrer noopener" target="_blank">CulturalSpaces2016.csv</a> dataset or paste in the URL.</li>
  <li>Add a Geocoder to the canvas connected to the CSV feature type.</li>
  <li><a href="https://developers.google.com/maps/documentation/geocoding/get-api-key" rel="noreferrer noopener" target="_blank">Sign up for a free Google Geocoder API</a> and then paste the API key into the API Key parameter in the Geocoder parameters.<ol>
      <li>If you don't want to sign up, you can use the free OpenStreetMap geocoder.</li>
    </ol>
  </li>
  <li>Next, for Street Address, identify where the address is stored and select that Attribute. For this example, the address is stored in ADDRESS.</li>
  <li>Before running the translation, set the Rejected Feature Handling workspace parameter to Continue Translation. We need to do this because some of the cultural spaces don't have an address associated with them, so our translation will stop when the Geocoder rejects these features. To do this, in the Navigator Pane &gt; Workspace Parameters &gt; Translation &gt; Rejected Feature Handling &gt; Continue Translation. After running the translation, you will see the points in Visual Preview.<br /><img src="images/1644021341510.png" class="image image-block image-center" alt="Geocoder parameters" /></li>
  <li>Run the workspace and inspect the results</li>
</ol>
<h2 id="results">
  <span>Results</span>
</h2>
<p><img src="images/1644021320762.png" class="image image-block image-center" alt="Results on a map" /></p>
<p><em> The output of point features using any of the three methods. Stylized in FME Data Inspector using m</em><em>ap tiles by </em><a href="http://stamen.com/" rel="noreferrer noopener" target="_blank"><em>Stamen Design</em></a><em>, under </em><a href="http://creativecommons.org/licenses/by/3.0" rel="noreferrer noopener" target="_blank"><em>CC-BY-3.0</em></a><em>. Data by </em><a href="http://openstreetmap.org/" rel="noreferrer noopener" target="_blank"><em>OpenStreetMap</em></a><em>, under </em><a href="http://creativecommons.org/licenses/by-sa/3.0" rel="noreferrer noopener" target="_blank"><em>CC-BY-SA</em></a><em>.</em></p>