<h2 id="learning-objectives">Learning Objectives</h2>
<p>After completing this lesson, you&rsquo;ll be able to:</p>
<ul>
<li>Understand FME Flow parameters and their purpose.&nbsp;</li>
<li>Link to FME Flow parameters in a workspace.</li>
<li>Run a workspace that uses FME Flow parameters.&nbsp;</li>
</ul>
<h2>Resources</h2>
<ul>
<li><a href="https://s3.amazonaws.com/FMEData/FMEData/Workspaces/DeployWorkflowsWithFMEFlow/use-fme-flow-parameters.fmw" target="_self">Starting workspace</a> | <span style="font-weight: 400;">C:\FMEData\Workspaces\DeployWorkflowsWithFMEFlow\use-fme-flow-parameters.fmw</span></li>
<li><a href="https://s3.amazonaws.com/FMEData/FMEData/Workspaces/DeployWorkflowsWithFMEFlow/use-fme-flow-parameters--complete.fmw" target="_self">Complete workspace</a> | <span style="font-weight: 400;">C:\FMEData\Workspaces\DeployWorkflowsWithFMEFlow\use-fme-flow-parameters--complete.fmw</span></li>
</ul>
<h2 id="self-serve-and-parameters">FME Flow Parameters</h2>
<p>FME Flow parameters reference FME Flow system settings to customize and control workspaces run from FME Flow. FME Workbench lists the FME Flow parameters in the Navigator window for easy insertion into workflows.&nbsp;</p>
<p>&nbsp;<img src="images/1748538820949.jpg" alt="" /></p>
<p>Some commonly used FME Flow parameters include:</p>
<ul>
<li><strong>FME_SHAREDRESOURCE_DATA </strong>references the FME Flow Resources folder, which stores data files that can be shared between workspaces. This parameter helps read and write data to Resources.&nbsp;</li>
<li><strong>FME_SECURITY_USER</strong> references the FME Flow user who runs the workspace, and&nbsp;<strong>FME_SECURITY_ROLE</strong> is the role the user belongs to. This helps monitor FME Flow usage by user and role, filter job results, and log workspace-user information.&nbsp;</li>
<li><strong>FME_JOB_ID</strong> references the unique ID for each job run on FME Flow. This ID may be used to name output files, log jobs, track jobs, and troubleshoot.&nbsp;</li>
<li><strong>FME_SERVER_WEB_URL</strong> references the Web Application Server root URL that invokes the workspace to run.&nbsp;</li>
</ul>
<p>You can find a description of all FME Flow parameters in our <a href="https://docs.safe.com/fme/html/FME-Form-Documentation/FME-ReadersWriters/!Transformer_Parameters/FME-Flow-Parameters.htm" target="_blank" rel="noopener">FME Flow Parameters</a> documentation.&nbsp;</p>
<blockquote>
<p><img src="images/safe_note.png" alt="Note" /></p>
<p>You can learn more about managing data in the FME Flow Resources with the FME_SHAREDRESOURCE_DATA parameter in <a href="https://academy.safe.com/path/deploy-workflows-with-fme-flow/manage-fme-flow-data-and-connections-2025-0" target="_blank" rel="noopener">Manage FME Flow Data and Connections</a>.&nbsp;</p>
</blockquote>
<h2>Linking FME Flow Parameters</h2>
<p>FME Flow parameters are linked to readers, writers, and transformers, similar to how existing user parameters are linked. Here's an example of using the FME_SECURITY_ROLES parameter in a Tester to filter for users belonging to the fmeadmin or fmesuperuser roles on FME Flow. This workflow could be expanded to write specific data to the user if they belong to one of those roles. Otherwise, the data may be excluded.&nbsp;</p>
<p><img src="images/1748636607638.jpg" alt="" width="1087" height="465" /></p>
<p><span style="margin: 0px; padding: 0px;">Like user parameters in FME Workbench, FME Flow parameters can be hardcoded into workspace parameters following the <span style="margin: 0px; padding: 0px;"><strong>$(</strong>FME_FLOW_PARAMETER<strong>)</strong> format</span>.&nbsp; </span>Here's an example where the FME Flow Resources Data folder is referenced using the $(FME_SHAREDRESOURCE_DATA) parameter for an output CSV location.&nbsp;</p>
<p><img src="images/1748553298184.jpg" alt="" width="552" height="229" /></p>
<p>When running workspaces referencing FME Flow parameters on FME Workbench, you must assign a value to the FME Flow parameter. However, when a workspace runs on FME Flow using these parameters, FME Flow automatically fills in the value based on the FME Flow system settings. Here's an example where the FME_SERVER_WEB_URL parameter is referenced in an HTTP Caller to make a GET request to the FME Flow REST API. To run successfully on FME Workbench, you must enter the URL http://localhost into the FME_SERVER_WEB_URL parameter.&nbsp;</p>
<p><img src="images/1748644027849.jpg" alt="" width="1300" height="432" /></p>
<p>Running the workspaces on FME Workbench can be useful for testing and debugging. If the workspace is only run on FME Flow, the FME Flow parameter value does not need to be set manually; it will automatically use the value on FME Flow.&nbsp;</p>
<h2>Exercise</h2>
<p><img src="images/1748034089619.png" width="238" height="252" /></p>
<p>Jennifer continues updating workspaces that will be deployed on FME Flow. She's working on one that clips election voting locations by neighborhood and writes a list of voting places for each neighborhood. This workspace currently writes the data to a local file system, and Jennifer shares it with users who need it for their FME workflows. However, others will easily access it if it were written to the FME Flow Resources, so other users' workflows can easily read the data in from Resources.&nbsp; To accomplish this, Jennifer will use the $(FME_SHAREDRESOURCE_DATA) parameter to write the output data to the FME Flow Resources Data folder.&nbsp;</p>
<h3>1) Open Starting Workspace</h3>
<p>Jennifer starts with her <a href="https://s3.amazonaws.com/FMEData/FMEData/Workspaces/DeployWorkflowsWithFMEFlow/use-fme-flow-parameters.fmw" target="_self">workspace</a> (<span style="font-weight: 400;">C:\FMEData\Workspaces\DeployWorkflowsWithFMEFlow\use-fme-flow-parameters.fmw</span>) in FME Workbench. The workspace reads the Voting Places and Neighborhoods, clips the data by neighborhood, and writes the clipped data to a Microsoft Excel file with a different sheet for each neighborhood.&nbsp;</p>
<p><img src="images/1748899745248.jpg" alt="" /></p>
<h3>2) Edit Writer Parameters</h3>
<p>Jennifer expands the VotingPlaces [XLSXW] writer parameters in the Navigator and double-clicks the Destination Microsoft Excel File parameter.&nbsp;</p>
<p><img src="images/1748899857518.jpg" alt="" width="435" height="215" /></p>
<p>She uses the drop-down arrow to select the $(FME_SHAREDRESOURCE_DATA) FME Flow parameter and then adds <span style="color: #ba372a;"><strong>\Output\VotingPlaces.xlsx</strong></span>.</p>
<p><img src="images/1748900223014.jpg" alt="" width="1202" height="432" /></p>
<p><img src="images/1748900352137.jpg" alt="" width="704" height="264" /></p>
<p>Now that the workspace writes data using the FME Flow parameter, Jennifer clicks OK to close the writer settings and is ready to publish it to FME Flow.&nbsp;</p>
<h3>3) Publish to FME Flow</h3>
<p>Jennifer publishes the workspace to the Training repository and registers it with the Job Submitter service.</p>
<!-- BEGIN: Reusable Custom Expandable Section -->
<div>
<style>
  .custom-details {
    background-color: #07D7FF; /* safe blue */
    color: #333;
    padding: 14px;
    margin-bottom: 10px;
    border-radius: 4px;
    cursor: pointer;
  }

  .custom-details summary {
    font-size: 18px;
    font-weight: bold;
    outline: none;
    user-select: none;
    padding: 5px 0;
  }

  .custom-details[open] {
    background-color: #d3d3d3; /* grey */
  }

  .custom-details div {
    padding-top: 10px;
    padding-bottom: 10px;
    padding-left: 12px;
    margin-top: 10px;
    font-size: 16px;
    line-height: 1.5;
  }
</style>
</div>
<details class="custom-details">
<summary>Expand for Steps on Publishing to FME Flow</summary>
<div>The publishing wizard sets all configurations for publishing workspaces to FME Flow. To open it, click Publish in the top toolbar.</div>
<div><img src="images/1748285818571.jpg" alt="" /></div>
<div>The first steps are to confirm your FME Flow connection, select a Repository to house the workspace, and optionally alter the workspace's name. To create a new Repository, click New and enter its details. &nbsp;</div>
<div><img src="images/1748286554734.jpg" alt="" width="566" height="588" /></div>
<div>Optionally, you may <em>Upload data files</em> to publish the workspace's source data files to FME Flow along with the workspace. You can control which files from the&nbsp;<em>Select Files...</em> option.</div>
<div>Next, if your workspace has any connections, you may select whether or not they will also be published to FME Flow.&nbsp;</div>
<div><img src="images/1748286904132.jpg" alt="" width="605" height="423" /></div>
<div>The last step of publishing is to register services for the workspace to use on FME Flow.&nbsp;</div>
<div><img src="images/1748286987767.jpg" alt="" width="532" height="453" /></div>
<div>After publishing, the translation log generates a report on the publishing and provides a direct link to run the workspace on FME Flow.</div>
<div><img src="images/1748366315558.jpg" alt="" width="732" height="382" /></div>
<div>For more information on the FME Flow Services and Publishing to FME Flow, see <a href="https://academy.safe.com/path/deploy-workflows-with-fme-flow/deploy-workspaces-on-fme-flow-2025-0" target="_blank" rel="noopener">Deploy Workspaces on FME Flow</a>.&nbsp;</div>
</details><!-- END: Reusable Custom Expandable Section -->
<h3>4) Run Workspace</h3>
<p>Jennifer navigates to the FME Flow Run Workspace page and selects her recently published workspace. The Destination Microsoft Excel File parameter shows the $(FME_SHAREDRESOURCE_DATA) parameter she referenced in the writer settings.&nbsp;</p>
<p><img src="images/1748900857805.jpg" alt="" width="650" height="675" /></p>
<p>Jennifer doesn't alter any settings and clicks Run. Her workspace runs and processes the Voting Places data.&nbsp;</p>
<h3>5) Inspect Resources for Output</h3>
<p>Jennifer opens Resources, and selects the Data and then Output folders.</p>
<p><img src="images/1748901606376.jpg" alt="" /></p>
<p>Here, she sees that her workspace wrote the VotingPlaces.xlsx file a moment ago. Her workspace used the $(FME_SHAREDRESOURCE_DATA) parameter to reference the FME Flow Resources location for the output. Jennifer's next steps will be to automate this workflow and run it on a schedule to keep the data updated in Resources for other users to access.&nbsp;</p>