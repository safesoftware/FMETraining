<h2 id="learning-objectives">Learning Objectives</h2>
<p>After completing this lesson, you&rsquo;ll be able to:</p>
<ul>
<li>Select the source dataset to use when uploading multiple temporary files.</li>
<li>Run a workspace using temporary uploaded data.</li>
</ul>
<h2 id="resources">Resources</h2>
<ul>
<li><a href="https://s3.amazonaws.com/FMEData/FMEData/Workspaces/CreateDataIntegrationApps/exercise-publish-data-with-a-workspace.fmwt" target="_blank" rel="noreferrer noopener">Starting workspace template</a></li>
<li><a href="https://s3.amazonaws.com/FMEData/FMEData/Workspaces/CreateDataIntegrationApps/exercise-publish-data-with-a-workspace-complete.fsproject" target="_blank" rel="noreferrer noopener">Starting FME Server project</a></li>
</ul>
<h2 id="1-open-and-examine-workspace">1) Open and Examine Workspace</h2>
<p>Open the starting workspace template in FME Workbench (2022.0 or later).</p>
<h2 id="2-create-temporary-data">2) Create Temporary Data</h2>
<p>Let's pretend that the layer of VotingPlaces data has changed in some way. You can simulate that by simply opening a file browser and making a copy of the GML file.</p>
<p>You can do this by downloading&nbsp;<a href="https://s3.amazonaws.com/FMEData/FMEData/Data/Elections/ElectionVoting.gml" target="_blank" rel="noreferrer noopener">ElectionVoting.gml</a>&nbsp;and&nbsp;<a href="https://s3.amazonaws.com/FMEData/FMEData/Data/Elections/ElectionVoting.xsd" target="_blank" rel="noreferrer noopener">ElectionVoting.xsd</a>, or by expanding the "ElectionVoting [GML]" Reader in the Navigator, double-clicking "Source Geography Markup Language (GML) File(s)", copying the directory, and pasting it into your file explorer. This will navigate you to the temporary folder where the workspace template data is stored.</p>
<p><img class="image image-block image-center" src="https://s3-us-west-2.amazonaws.com/safemytrailhead/modules/manage-fme-server-data-and-connections/exercise-use-temporary-uploads-for-end-users/images/1626214759579.png" alt="Extracting data from a template" /></p>
<p>In either case, once you have a local copy of ElectionVoting.gml, duplicate it and name the new file NewElectionVoting.gml.</p>
<div class="box message info">
<div class="inner">
<div class="bd">
<div class="media">
<blockquote><img class="img mtm" role="presentation" src="https://safemytrailhead.s3.us-west-2.amazonaws.com/images/safe_note.png" alt="Note" /></blockquote>
<div class="mediaBd">
<div class="message-media-content">
<blockquote>
<p>You don't have to copy ElectionVoting.xsd - it's okay to use that schema file for the new GML dataset. We provide instructions on how to do this below.</p>
</blockquote>
</div>
</div>
</div>
</div>
</div>
</div>
<h2 id="3-upload-temporary-data">3) Upload Temporary Data</h2>
<p>We wish to run the workspace with the new data. To use the new dataset for the Source GML prompt, first, open the workspace in FME Server (2021.1 or later). This workspace was published in the last exercise. Then, click the Browse Resources button:</p>
<p><img class="image image-block image-center" src="https://s3-us-west-2.amazonaws.com/safemytrailhead/modules/manage-fme-server-data-and-connections/exercise-use-temporary-uploads-for-end-users/images/1626304543913.png" alt="Browse Resources on the Run Workspace page" /></p>
<div class="box message info">
<div class="inner">
<div class="bd">
<div class="media">
<blockquote><img class="img mtm" role="presentation" src="https://safemytrailhead.s3.us-west-2.amazonaws.com/images/safe_note.png" alt="Note" /></blockquote>
<div class="mediaBd">
<div class="message-media-content">
<blockquote>
<p>If the workspace only required one input file or multiple input files of the same format, we could click Upload File instead. But, in this workspace, the GML file requires an XSD file included to provide the schema. Therefore we use Browse Resources so we can upload more than one file.</p>
</blockquote>
</div>
</div>
</div>
</div>
</div>
</div>
<p>In the dialog that opens, click the Temporary Uploads tab and then on the Upload File button:</p>
<p><img class="image image-block image-center" src="https://s3-us-west-2.amazonaws.com/safemytrailhead/modules/manage-fme-server-data-and-connections/exercise-use-temporary-uploads-for-end-users/images/1626304705082.png" alt="Click Temporary Uploads, click Upload File button" /></p>
<p>Select both the files NewElectionVoting.gml and ElectionVoting.xsd and click Open to upload them. Now - back in the prior dialog - click the X button to deselect the XSD file:</p>
<p><img class="image image-block image-center" src="https://s3-us-west-2.amazonaws.com/safemytrailhead/modules/manage-fme-server-data-and-connections/exercise-use-temporary-uploads-for-end-users/images/1626305434744.png" alt="Deselecting ElectionVoting.xsd" /></p>
<p>The file needs to be uploaded, but it doesn't need to be selected.</p>
<div class="box message info">
<div class="inner">
<div class="bd">
<div class="media">
<blockquote><img class="img mtm" role="presentation" src="https://safemytrailhead.s3.us-west-2.amazonaws.com/images/safe_note.png" alt="Note" /></blockquote>
<div class="mediaBd">
<div class="message-media-content">
<blockquote>
<p>If ElectionVoting.xsd were selected, FME would try to use it as the input GML file, which would cause an error.</p>
</blockquote>
</div>
</div>
</div>
</div>
</div>
</div>
<p>Now click OK and then click the Run button.</p>
<p>The workspace will now run to completion using the uploaded dataset.</p>
<p>However - and this is the important part - this was only a temporary upload. The workspace can be re-run immediately, and the data will still appear in the temporary upload section, but it is not a permanent solution. The data will be cleaned up automatically within the default 24 hours unless an FME Server Administrator has modified the clean-up task.</p>