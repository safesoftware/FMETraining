<h2 id="learning-objectives">Learning Objectives</h2>
<ul>
<li>Create an Automation.</li>
<li>Use a Manual Trigger in an Automation.</li>
<li>Use the Run Workspace action in an Automation.</li>
<li>Start an Automation and view its triggered jobs.</li>
</ul>
<h2 id="resources">Resources</h2>
<ul>
<li><a href="https://s3.amazonaws.com/FMEData/FMEData/Workspaces/CreateDataIntegrationApps/earthquakesextrusion.fmw" target="_blank" rel="noreferrer noopener">earthquakesextrusion.fmw</a>&nbsp;(C:\FMEData\Workspaces\CreateDataIntegrationApps\earthquakesextrusion.fmw)</li>
<li><a href="https://s3.amazonaws.com/FMEData/FMEData/Resources/CreateDataIntegrationApps/example.geojson" target="_blank" rel="noreferrer noopener">example.geojson</a>&nbsp;(a GeoJSON file of earthquake locations. This file can be used in the unlikely event the USGS Earthquake API goes down. C:\FMEData\Resources\CreateDataIntegrationApps\example.geojson)</li>
<li>You will need Google Earth Pro installed to view the results of the Server App. You can download it for free&nbsp;<a href="https://www.google.com/earth/versions/#download-pro" target="_blank" rel="noreferrer noopener">here</a>.
<ul>
<li>If you are taking an official Safe Software training course, it is already installed on your training machine.</li>
</ul>
</li>
<li><a href="https://s3.amazonaws.com/FMEData/FMEData/Workspaces/AutomateWorkflows/exercise-build-a-basic-automation-complete.fsproject" target="_blank" rel="noreferrer noopener">Complete FME Server project</a>&nbsp;(C:\FMEData\Workspaces\AutomateWorkflows\exercise-build-a-basic-automation-complete.fsproject)</li>
</ul>
<h2 id="introduction">Introduction</h2>
<p>You have been tasked with creating a system to automatically generate a Google Earth KML file with a 3D visualization of recent earthquakes around the world, using&nbsp;<a href="https://www.usgs.gov/natural-hazards/earthquake-hazards/earthquakes" target="_blank" rel="noreferrer noopener">data from the United States Geological Survey</a>. Eventually, you hope to run this workspace on a schedule and in response to external triggers. But for this first iteration, you just want to test building an Automation that runs using a Manual Trigger.</p>
<h2 id="1-create-a-new-automation">1) Create a New Automation</h2>
<p>To create your new Automation, the first step is to log in to FME Server.</p>
<div class="box message info">
<div class="inner">
<div class="bd">
<div class="media">
<blockquote><img class="img mtm" role="presentation" src="https://safemytrailhead.s3.us-west-2.amazonaws.com/images/safe_note.png" alt="Note" /></blockquote>
<div class="mediaBd">
<div class="message-media-content">
<blockquote>
<p>If you are taking an official Safe Software training course, you can log in with the user name&nbsp;<code>admin</code>&nbsp;and the password&nbsp;<code>FMElearnings</code>.</p>
</blockquote>
</div>
</div>
</div>
</div>
</div>
</div>
<p>After logging in, click Automations &gt; Build Automation on the left-hand navigation menu:</p>
<p><img class="image image-block image-center" src="https://s3-us-west-2.amazonaws.com/safemytrailhead/modules/build-basic-automations/exercise-build-a-basic-automation/images/1629839120964.png" alt="Automations &gt; Build Automation in FME Server web interface" /></p>
<h2 id="2-add-a-manual-trigger">2) Add a Manual Trigger</h2>
<p>If this is your first time building an Automation on this FME Server, the Get Started box will appear. You can click Close, as we'll explore these steps ourselves right now.</p>
<p>You will see a new blank Automation, with a starting Trigger and two possible Next Action objects already added:</p>
<p><img class="image image-block image-center" src="https://s3-us-west-2.amazonaws.com/safemytrailhead/modules/build-basic-automations/exercise-build-a-basic-automation/images/1629839257198.png" alt="Default starting Automation with one Trigger" /></p>
<p>Let's turn that starting Trigger into a Manual Trigger. Click the lightning bolt icon on the Trigger, then click Select a Trigger Event and choose Manual Trigger (max 1 per Automation):</p>
<p><img class="image image-block image-center" src="https://s3-us-west-2.amazonaws.com/safemytrailhead/modules/build-basic-automations/exercise-build-a-basic-automation/images/1654883917845.png" alt="Selecting a Manual Trigger" /></p>
<p>Disable Prompt for JSON on Trigger. This option lets you supply input keys for the Automation, but we don't need that ability for this Automation.&nbsp;</p>
<p>Click Apply. The Trigger will turn into a Manual Trigger:</p>
<p><img class="image image-block image-center" src="https://s3-us-west-2.amazonaws.com/safemytrailhead/modules/build-basic-automations/exercise-build-a-basic-automation/images/1629840249955.png" alt="A Manual Trigger has been added" /></p>
<h2 id="3-add-a-run-workspace-action">3) Add a Run Workspace Action</h2>
<p>Click the circle icon above the top Next Action block. Then click Select an action and then choose Run a Workspace:</p>
<p><img class="image image-block image-center" src="https://s3-us-west-2.amazonaws.com/safemytrailhead/modules/build-basic-automations/exercise-build-a-basic-automation/images/1629840444718.png" alt="Configuring Next Action Details" /></p>
<p>Select the Samples repository and the earthquakesextrusion.fmw workspace. Click Apply.</p>
<div class="box message info">
<div class="inner">
<div class="bd">
<div class="media">
<blockquote><img class="img mtm" role="presentation" src="https://safemytrailhead.s3.us-west-2.amazonaws.com/images/safe_note.png" alt="Note" /></blockquote>
<div class="mediaBd">
<div class="message-media-content">
<blockquote>
<p>If you don't have the earthquakesextrusion.fmw workspace on your FME Server (it should be there by default), you can download it here:&nbsp;<a href="https://s3.amazonaws.com/FMEData/FMEData/Workspaces/CreateDataIntegrationApps/earthquakesextrusion.fmw" target="_blank" rel="noreferrer noopener">earthquakesextrusion.fmw</a>. If you are using a Safe Software training machine or downloaded FMEData, you can use&nbsp;<code>C:\FMEData\Workspaces\CreateDataIntegrationApps\earthquakesextrusion.fmw</code>.</p>
</blockquote>
</div>
</div>
</div>
</div>
</div>
</div>
<p>The earthquakeextrusion.fmw workspace action should now appear on the canvas:</p>
<p><img class="image image-block image-center" src="https://s3-us-west-2.amazonaws.com/safemytrailhead/modules/build-basic-automations/exercise-build-a-basic-automation/images/1629840610658.png" alt="A Workspace Action has been added" /></p>
<h2 id="4-save-and-start-the-automation">4) Save and Start the Automation</h2>
<p>We now have a basic Automation that will run the earthquakeextrusion.fmw workspace when manually triggered. Before starting it, we need to save it. Click the Save icon:</p>
<p><img class="image image-block image-center" src="https://s3-us-west-2.amazonaws.com/safemytrailhead/modules/build-basic-automations/exercise-build-a-basic-automation/images/1629842264546.png" alt="Save button" /></p>
<p>Call your workspace Earthquake Automation and click OK:</p>
<p><img class="image image-block image-center" src="https://s3-us-west-2.amazonaws.com/safemytrailhead/modules/build-basic-automations/exercise-build-a-basic-automation/images/1629842492773.png" alt="Save parameters" /></p>
<p>Now that the Automation has been saved, we have to start it. Click Start Automation:</p>
<p><img class="image image-block image-center" src="https://s3-us-west-2.amazonaws.com/safemytrailhead/modules/build-basic-automations/exercise-build-a-basic-automation/images/1629842618499.png" alt="Start Automation button" /></p>
<h2 id="5-trigger-the-automation-to-run">5) Trigger the Automation to Run</h2>
<p>After starting the Automation, you can no longer edit it. However, you can manually trigger the Automation. Click the play button icon on the Manual Trigger to open its Details pane. Then click Trigger to manually start the Automation:</p>
<p><img class="image image-block image-center" src="https://s3-us-west-2.amazonaws.com/safemytrailhead/modules/build-basic-automations/exercise-build-a-basic-automation/images/1654884067357.png" alt="Manually triggering an Automation" /></p>
<p>The Automation will run.</p>
<h2 id="6-view-the-automation-log">6) View the Automation Log</h2>
<p>You can confirm the Automation was manually triggered by clicking the Menu, then View Log File:</p>
<p><img class="image image-block image-center" src="https://s3-us-west-2.amazonaws.com/safemytrailhead/modules/build-basic-automations/exercise-build-a-basic-automation/images/1629843056694.png" alt="Viewing Automation log file" /></p>
<p>You will see the Automation Log, which reports the Automation's activities. You should see a line that looks something like this:</p>
<div>
<pre>2022-05-24T15:08:13-07:00 | 410160 : (Automations) Automation successfully triggered</pre>
</div>
<p>A few more lines will report on the running job. If your Automation and workspace were configured properly, you should eventually see a line something like this:</p>
<div>
<pre>2022-05-24T15:08:14-07:00 | 402623 : Job 23: Translation was successful.</pre>
</div>
<p>We've confirmed the Automation's Manual Trigger successfully ran a Job.</p>
<div class="box message info">
<div class="inner">
<div class="bd">
<div class="media">
<blockquote><img class="img mtm" role="presentation" src="https://safemytrailhead.s3.us-west-2.amazonaws.com/images/safe_note.png" alt="Note" /></blockquote>
<div class="mediaBd">
<div class="message-media-content">
<blockquote>
<p>If you noticed your job failed, the USGS Earthquake API might be unavailable. Instead, you can try replacing the Source GeoJSON File or URL parameter in your Run Workspace Action with this example:&nbsp;<a href="https://s3.amazonaws.com/FMEData/FMEData/Resources/CreateDataIntegrationApps/example.geojson" target="_blank" rel="noreferrer noopener">example.geojson</a>. If you are using a Safe Software training machine or downloaded FMEData, you can use&nbsp;<code>C:\FMEData\Resources\CreateDataIntegrationApps\example.geojson</code>.</p>
</blockquote>
</div>
</div>
</div>
</div>
</div>
</div>
<h2 id="7-view-triggered-jobs">7) View Triggered Jobs</h2>
<p>You can browse or search through the Automation Log to find all the jobs triggered by an Automation. However, it can often be easier to view the list of triggered jobs directly. To do this, click your browser's back button to return to your Automation. Then click Menu &gt; View Triggered Jobs:</p>
<p><img class="image image-block image-center" src="https://s3-us-west-2.amazonaws.com/safemytrailhead/modules/build-basic-automations/exercise-build-a-basic-automation/images/1629843551708.png" alt="Viewing Triggered Jobs in Automations menu" /></p>
<p>This will open the Completed Jobs page automatically filtered to only show Jobs triggered by this Automation. You should see the Job you manually triggered:</p>
<p><img class="image image-block image-center" src="https://s3-us-west-2.amazonaws.com/safemytrailhead/modules/build-basic-automations/exercise-build-a-basic-automation/images/1629843853227.png" alt="Viewing Completed jobs" /></p>
<p>Congratulations! You successfully built a simple Automation that can be manually triggered.&nbsp;</p>
<div class="box message info">
<div class="inner">
<div class="bd">
<div class="media">
<blockquote><img class="img mtm" role="presentation" src="https://safemytrailhead.s3.us-west-2.amazonaws.com/images/safe_note.png" alt="Note" /></blockquote>
<div class="mediaBd">
<div class="message-media-content">
<blockquote>
<p>You can learn to build more complex Automations in the&nbsp;<a href="https://safe.my.trailhead.com/content/safe/modules/build-versatile-automations" target="_blank" rel="noreferrer noopener">Build Versatile Automations course</a>.</p>
</blockquote>
</div>
</div>
</div>
</div>
</div>
</div>