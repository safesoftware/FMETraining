<h2 id="learning-objectives">Learning Objectives</h2>
<p>After completing this lesson, you&rsquo;ll be able to:</p>
<ul>
<li>Find FME Flow Parameters in the Navigator.</li>
<li>Use the FME_SHAREDRESOURCE_DATA parameter when authoring to read and write data from Resources.</li>
<li>Quickly find the path to data on Resources by copying and pasting it from FME Flow.</li>
</ul>
<h2>Video</h2>
<!-- The script tag should live in the head of your page if at all possible -->
<p>
<script type="text/javascript" src="https://play.vidyard.com/embed/v4.js"></script>
</p>
<!-- Put this wherever you would like your player to appear -->
<p><img class="vidyard-player-embed" style="width: 100%; margin: auto; display: block;" src="https://play.vidyard.com/bWtCWTj2fsHW3xrrJLvoTM.jpg" data-uuid="bWtCWTj2fsHW3xrrJLvoTM" data-v="4" data-type="inline" /></p>
<h2 id="author-for-the-resources-system">Author for the Resources System</h2>
<p>Using the FME Flow web interface, it's simple to select data from the resources folder at run-time. However, in some cases, the author will want to read data from a resources folder without the end-user having to select it.</p>
<p>To do this requires the use of an FME parameter to define the data as coming from the resources folders.</p>
<h2 id="fme-parameters-for-server">FME Parameters for Flow</h2>
<p><span class="c3">In FME Workbench, the Navigator window has a section called User Parameters. You might have noticed that one part of this is a list of FME Flow-specific parameters. For a detailed description of all of the Flow Parameters, please see the&nbsp;</span><span class="c18"><a class="c16" href="https://docs.safe.com/fme/html/FME-Form-Documentation/FME-Form/!Transformer_Parameters/FME-Flow-Parameters.htm" target="_self">FME Flow Parameters documentation</a></span><span class="c0">:</span></p>
<p>&nbsp;</p>
<p><img class="image image-block image-center" src="https://lh6.googleusercontent.com/q7GJL0uGsGA8zCENXW52-8r0uPJyKtv9AJjKGBlpskYenkaQdAd_h-EQuQ4BrL15UtdOojVekjw52E8ZJLKq_ByLfy2HHp103A82_RjP8W0pJGnfNoHW7eTFAH6dtHLaYxE25-R77KU4oDRbvghpYac" alt="FME Server parameters" width="632" height="658" /></p>
<p>The uses of these are many and varied; for example, FME_SECURITY_USER returns the name of the user running the workspace and could be used to either write to a custom log or perhaps filter data in different ways in the workspace based on the specific user. FME_TOPIC would return the name of the notification topic (if any) that invoked the workspace.</p>
<p>However, when authoring for resources data, the most useful parameter is FME_SHAREDRESOURCE_DATA.</p>
<div class="box message info">
<div class="inner">
<div class="bd">
<div class="media">
<blockquote><img class="img mtm" role="presentation" src="https://safemytrailhead.s3.us-west-2.amazonaws.com/images/safe_note.png" alt="Note" /><br /><span style="font-family: inherit; font-size: 1em;">A common factor to all these parameters is that they only have an effect when the workspace is run on FME Flow. If the workspace is run on FME Form, it won't return a value. Therefore to test a workspace containing such a parameter on Form requires you to provide a dummy value.</span></blockquote>
</div>
</div>
</div>
</div>
<h2 id="fme-sharedresource-data">FME_SHAREDRESOURCE_DATA</h2>
<p>The FME_SHAREDRESOURCE_DATA parameter returns the path of the shared resource data. When authoring a workspace to read data directly from the resource folder, you would normally create the workspace using a local copy of the data, and then update the source dataset field to include the FME Flow parameter:</p>
<p><a href="https://s3.amazonaws.com/gitbook/Server-Authoring-2020/ServerAuthoring2DataHandling/Images/Img2.026.FMEParametersForServerInSourceDataset.png" target="_blank" rel="noreferrer noopener"><img class="image image-block image-center" src="https://lh3.googleusercontent.com/g9Ixn3Lo3krYL35_gwZanI4GuBfffzx5GUl1DM6YKq6QgF19LtbDUPHxg11LUatbxx64CT7SSvjYZLhY4vPoyn7_PzNrdPNnXvOlII46cdfCRTNBPFYJEemGDQ0RGK-Tm8djG831icTbQxPe8kuu3f4" alt="Using an FME Server parameter in a file path" width="585" height="225" /></a></p>
<p>Updating the field can be done directly by typing into the dialog, but is easier to achieve by clicking the drop-down arrow and choosing to use the Text Editor.</p>
<p>The entry in the Navigator window now looks like this:</p>
<p><a href="https://s3.amazonaws.com/gitbook/Server-Authoring-2020/ServerAuthoring2DataHandling/Images/Img2.027.FMEParametersForServerInSourceNav.png" target="_blank" rel="noreferrer noopener"><img class="image image-block image-center" src="https://lh5.googleusercontent.com/JFaeTFlY2EJfeKMLJTnTw9n6m5TqF2QQPCwGTRq6ySIgXs0MFBOxZZNLvR_5IFR9wbBKLM7XxuqiKlzrymHADbLajOA8btWXA_nXTvRrIgxmD_CdQENPqNIINTJ9p58sUToVOmt9I_uAFhTTiJ0tG1M" alt="Navigator after using an FME Server parameter in a path" width="612" height="261" /></a></p>
<p>Although the parameter is colored red in Form, when the workspace is run on Flow the parameter is replaced by the actual path and the data is read as expected.</p>
<div class="box message info">
<div class="inner">
<div class="bd">
<div class="media">
<blockquote><img class="img mtm" role="presentation" src="https://safemytrailhead.s3.us-west-2.amazonaws.com/images/safe_note.png" alt="Note" /><br /><span style="font-family: inherit; font-size: 1em;">It's important to remember (for example notice in the screenshots above) that the Flow parameter FME_SHAREDRESOURCE_DATA includes the 'Data' folder in its path.<br /><br /></span><span style="font-family: inherit; font-size: 1em;">For example, I use FME_SHAREDRESOURCE_DATA\Zoning\Zones.tab not FME_SHAREDRESOURCE_DATA\Data\Zoning\Zones.tab</span></blockquote>
</div>
</div>
</div>
</div>
<h2 id="shortcut-to-resource-paths">Shortcut to Resource Paths</h2>
<p>Rather than setting the path in Workbench before uploading the data, you can also copy the path for an uploaded dataset and then paste that directly into Workbench.</p>
<p>The path for a shared resource is obtained by examining its properties in the FME Flow Resources pages. To do this, locate the resource, click the checkbox beside the file, then click the Actions drop-down menu and select Properties:</p>
<p><img class="image image-block image-center" src="https://lh6.googleusercontent.com/rMXEZWDswWm1BYyempCvKQTm4pmdOkSUSXwgSQwKKWrvDJUd3As1c5Rsg0WKGNyQhtUT3ETh65-witXR1XqwBQ80I_KQxV5n2MhmEcztK4dfxJF7ZXy-NguIsqkYzQ9i7iA0eNSUWhTNEsQkDMzoxCk" alt="Finding the path to a dataset by viewing its Properties in FME Server" width="521" height="296" /></p>
<p>This path can then be copied and pasted into a workspace in order to reference that dataset directly without manually entering it. Of course, this does require that the data has already been uploaded to FME Flow, and isn't going to be uploaded with the workspace when it is published!</p>