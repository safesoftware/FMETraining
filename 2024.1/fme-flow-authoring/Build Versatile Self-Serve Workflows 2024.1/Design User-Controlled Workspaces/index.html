<h2 id="learning-objectives">Learning Objectives</h2>
<p>After completing this lesson, you&rsquo;ll be able to:</p>
<ul>
<li>Explain how user parameters can give end-users control over how workspaces run.</li>
<li>Define an FME parameter.</li>
<li>Define a user parameter.</li>
<li>Distinguish between published and private parameters.</li>
<li>Create a user parameter using the Parameter Manager.</li>
</ul>
<h2>Video</h2>
<!-- The script tag should live in the head of your page if at all possible -->
<p>
<script type="text/javascript" src="https://play.vidyard.com/embed/v4.js"></script>
</p>
<!-- Put this wherever you would like your player to appear -->
<p><img class="vidyard-player-embed" style="width: 100%; margin: auto; display: block;" src="https://play.vidyard.com/bWtCWTj2fsHW3xrrJLvoTM.jpg" data-uuid="bWtCWTj2fsHW3xrrJLvoTM" data-v="4" data-type="inline" /></p>
<blockquote>
<p><img class="img mtm" role="presentation" src="https://safemytrailhead.s3.us-west-2.amazonaws.com/images/safe_note.png" alt="Note" /></p>
<p><span style="font-family: inherit; font-size: 1em;">Videos are provided in this course if you prefer to watch instead of reading the text below. Note that some Quiz answers might require you to read the </span><span style="font-family: inherit; font-size: 1em;">text.</span></p>
</blockquote>
<h2 id="self-serve-and-parameters">Self-Serve and Parameters</h2>
<p>Parameters control how FME operates: how data is read in, transformed, and written out using various FME components. This lesson will explain the different types of published parameters available within FME and provide an example of how to create a published parameter. Workspace parameters are the key to giving the end-user control over self-serve workspaces.</p>
<h2 id="what-are-parameters">What are Parameters?</h2>
<p>Parameters are what control FME translations and transformations. Remember that a translation has a hierarchy of different translation components:</p>
<p><img class="image image-block image-center" src="https://lh5.googleusercontent.com/O8ca2SFJG6gtDQTfgNIJ5C8S0EFR3N9F20WMoMIPkVY9wPzKKX5AbC_YxNtGXcU_Yp07IlK4gDs4fI0nmcis3r7FbAgi8k0zlGUqDYBWu-eoiB2OJA-5VwBferKh__WxaZYxH774oGyhg9CO8HMs_-k" alt="Workspace hierarchy" width="335" height="500" /></p>
<p>Each different level of the hierarchy has a set of parameters that belong to it. That means there are:</p>
<ul>
<li>Workspace Parameters</li>
<li>Reader Parameters</li>
<li>Writer Parameters</li>
<li>Feature Type Parameters</li>
</ul>
<p>Most of the available parameters are determined by the author of the workspace.</p>
<div class="box message info">
<div class="inner">
<div class="bd">
<div class="media">
<blockquote><img class="img mtm" role="presentation" src="https://safemytrailhead.s3.us-west-2.amazonaws.com/images/safe_note.png" alt="Note" /><br /><br /><span style="font-family: inherit; font-size: 1em;">When you order food at a restaurant, the chef decides how long it needs to be cooked, at what temperature, and using what equipment. They&nbsp;also decide the amount of seasoning it needs and what plate to present it on. Like an FME author, these are the parameters that control the results, and as the creator of the meal, I get to choose how best to set them.</span></blockquote>
</div>
</div>
</div>
</div>
<h2 id="published-parameters">Published Parameters</h2>
<p>Although workspace authors set&nbsp;<em>most</em> of the parameters, the end-user must be able to set some of them in some cases.</p>
<div class="box message info">
<div class="inner">
<div class="bd">
<div class="media">
<blockquote><img class="img mtm" role="presentation" src="https://safemytrailhead.s3.us-west-2.amazonaws.com/images/safe_note.png" alt="Note" /><br /><br /><span style="font-family: inherit; font-size: 1em;">To continue the restaurant metaphor: of course, the chef will let you have some decisions on your meal. For example, they'll let you decide how your steak should be cooked - rare, medium, or well done - and what sauce you wish to add. They'll also let you select the side dishes. These are the parameters in FME that the user gets to wield instead of the author.</span></blockquote>
</div>
</div>
</div>
</div>
<p>To enable users to select the requirements for their translation, FME includes functionality called&nbsp;<strong>user parameters</strong>. User parameters are methods for getting input into a workspace.</p>
<p>When a user parameter is made available to the end-user, it is called a&nbsp;<strong>published parameter</strong>. In a self-serve application, published parameters are important for letting the end-user control how the data is served.</p>
<h2 id="parameter-uses-in-fme-server">Parameter Uses in FME Flow</h2>
<p>For self-serve systems, published parameters are most commonly used to set:</p>
<ul>
<li>What coordinate systems to deliver data in.</li>
<li>What feature types (layers) to deliver.</li>
<li>What geographic area (Bounding Box or Area of Interest) to deliver.</li>
<li>Any other Reader, Writer, or Transformer parameters of use to the user.</li>
</ul>
<p>With FME Flow, the key to successful workspace authoring is flexibility. Workspaces need to be flexible to allow end-users to make choices without seeing all of the complexity of the workspace or the data behind it. Parameters are one way to accomplish this.</p>
<h2 id="types-of-published-parameters">Types of Parameters</h2>
<p>There are two types of parameters in FME: FME parameters and user parameters.</p>
<p>FME Parameters are built into the FME Workbench interface and directly control the translation. Examples of FME Parameters include the WHERE clause, Search Envelope coordinates, and Character Encoding.</p>
<div><span class="image image-block image-center"><img class="image image-block image-center" src="https://s3-us-west-2.amazonaws.com/safemytrailhead/modules/build-versatile-self-serve-workflows/design-user-controlled-workspaces/images/1644016300287.png" alt="FME Parameters" /></span></div>
<p><em>FME Parameters&nbsp;</em></p>
<p>User Parameters, as the name suggests, are intended for a workspace user. These parameters are created by the workspace author for user input in the translation. These can be tied to an FME parameter, giving a user limited control over readers, transformers, or writers. User Parameters can be linked to provide values to transformers and attributes in a workspace.</p>
<p>There are two types of User Parameters, published and private. A published parameter is visible by the end-user, while a private parameter is visible by the author creating the workspace. User Parameters are required by default. Setting a parameter to be required means a user must enter a value otherwise FME will not run the translation.</p>
<p><img class="image image-block image-center" src="https://lh4.googleusercontent.com/0C9xz_cIIMwjs8390NRKlztkBnnnNTRGhrT2h52Jku6MBUVKT0xdwj0IdzPP-km0-zfT6ZGbLIpzHeshx7oCpqeT6wO8laPSMdQwPWeDOJP_3MF9vV005g3tF5HxKq5clcc0ZmcK-k0sTfUTttJgVL0" alt="Viewing a user parameter in the Navigator" width="499" height="217" /></p>
<p><em>A published and private user parameter. Note the lock icon on the private parameter.</em></p>
<p>Any parameter in FME can be published and presented to the user as a choice to be made when running a workspace. The user chooses the value for that parameter when running the workspace in FME Workbench on or FME Flow.</p>
<div class="box message info">
<div class="inner">
<div class="bd">
<div class="media">
<blockquote><img class="img mtm" role="presentation" src="https://safemytrailhead.s3.us-west-2.amazonaws.com/images/safe_note.png" alt="Note" /><br /><br /><span style="font-family: inherit; font-size: 1em;">Parameters are published in FME Workbench for use on FME Flow, but the Translation Parameter Values dialog will prompt the user to supply values to published parameters even when running on FME Form.&nbsp;</span></blockquote>
<div class="mediaBd">
<div class="message-media-content">
<p>You will recognize this dialog, as it appears by default when you press the Run button in any workspace that has a reader and/or writer. The dialog appears because readers and writers automatically have a published parameter for their source or destination file path, letting the user choose which data to use/create at runtime.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<h2 id="publishing-a-parameter">Publishing a Parameter</h2>
<p>In FME Workbench, parameters are located in several places, but the FME Workbench Navigator window is the one place where you will find them gathered in a single location:</p>
<p><img class="image image-block image-center" src="https://lh3.googleusercontent.com/YQU5GsegSux3sZbmZSr1OIxN5460tDNlFJKhv7qh1uGcQceLHJwdL9ITZqThCmNkOCDDr4zB4Oy5wNZm9E0G9H6thjuXKNRipWb4yeHcYf9-d97XLpCu7UT9uesT10aNl3ZBTijPP1SsXzmCzd8x_5Y" alt="Parameters in the Navigator" width="608" height="828" /></p>
<p>As you can see, there are parameters for the source data location (1) and the destination dataset (2), which is the one that the Data Download service overrides. There are also parameters for controlling the coordinate system (3), general Reader and Writer parameters (4), parameters for each feature type (5), and parameters for transformers (6).</p>
<p>Parameters are published by right-clicking on them and choosing &ldquo;Create User Parameter.&rdquo; For example, here a workspace author is publishing a parameter on the AreaCalculator transformer:</p>
<p><img class="image image-block image-center" src="https://lh3.googleusercontent.com/o85Ixa5CaBRYWHSCF4U4iAGK4UJ5AF7C-Sc07hnohWcnbM_5dLkz85oCT97l6kKZS8yr4YNSRHNk8KHxK5XUnY2S1KipMkOV066CsQl7lMHqhPz6HLujaZM2YJGFyg8xeqEkF4546NXhP3eQrNz8pdw" alt="Creating a User Parameter from an FME parameter" width="800" height="314" /></p>
<p>The author gets to choose if the parameter will be published or private, if it will be required to run the workspace, the user prompt, and the default value.</p>
<p>When the workspace is run on FME Flow the end-user will now be able to decide what value to use:</p>
<p><img class="image image-block image-center" src="https://lh6.googleusercontent.com/4uSNQDcwJmklL2wJXNKlrhG5iI2YE6mX1MKs-VS5eb6yd36JfEOdQTOhZmxAggcqtJrzZMuKJpfnatfrdVeC_8d3PFttsMZZUAY3_L_RsBZYNWYS098JmcfSg-cbi7JET1RaiGCMpHigJtmqSZ1NKto" alt="Published Parameters in FME Server" width="606" height="294" /></p>
<p>Transformer parameters can also be published directly in transformer dialogs:</p>
<p><img class="image image-block image-center" src="https://lh6.googleusercontent.com/s4XywRXrpfHUi1IRKfVZOyj2U3GTPF2TBZUm72nlIdphns9qKzzuRgAQ6ayRRYth4xDFrHZPKAaMiQfKc6jO5s1KLiFnWcWu9SOQMfwl2R2RTsCiDJCuRern59jdrGFZ9iWCeYWAO3dGizuwMDzROpg" alt="Creating a User Parameter from a transformer parameter" width="682" height="264" /></p>
<p>When you create a user parameter this way, FME will automatically choose the options available to the user. You can see that the options for the AreaCalculator's Type parameter, Plane Area or Sloped Area, are automatically created. Creating user parameters this way is fast and you are guaranteed that whatever input the user chooses will be valid.&nbsp;</p>
<p>However, it can also create problems. For example, if you wanted to create a user parameter for a numerical value (e.g., the Bufferer's Buffer Distance), by default the user could enter any numerical value. You might prefer to do some validation by restricting the options. In order to accomplish this, you can create your own user parameter using the Parameter Manager, explained below.</p>
<h2 id="the-parameter-manager">The Parameter Manager</h2>
<p>You can add, configure, reorder, and group parameters in the Parameter Manager dialog. You can access the Parameter Manager by right-clicking User Parameters in the Navigator and choosing Manage User Parameters...</p>
<p><img class="image image-block image-center" src="https://lh5.googleusercontent.com/LlJr0o2YoyMPQFvnJPFzHHW0f--dfQzKDO74JBl_LyACZ9RjJ59poOkahy-3TGZCZmDPoWdvN_foBF0zwVSeTgcUpX-I3U4HUhu0ywhpqFLsyk9sEayMgftE3ayD6pRaNcHftqo0t3JL6uNUKGTPegk" alt="Manage User Parameters option in the Navigator" width="389" height="202" /></p>
<div class="box message info">
<div class="inner">
<div class="bd">
<div class="media">
<div class="mediaBd">
<div class="message-media-content">
<p><span style="font-size: 2.3125em;">Parameter Manager Overview</span></p>
</div>
</div>
</div>
</div>
</div>
</div>
<p><img class="image image-block image-center" src="https://lh5.googleusercontent.com/6nf27-Rttvk8VcRqPVgK4HThtTQNlYIYyZV_Vb4oLI9OGNTOeywZngbz8C0re8t70EdORTYxCs9zyf0qty1Pt25XXImQXXbBcvGwTDgG1bHzH7pUKWZrzap2DgzDoNDBb80ecPMQkAH_UsEkdetnjCo" alt="Parameter Manager overview" width="797" height="557" /></p>
<p class="c17 c14 c18"><span class="c0">The left-hand side of the Parameter Manager is where all of your created parameters are shown, as well as options to add new ones, group, copy and paste, reorder and delete.</span></p>
<p class="c17 c14 c18"><span class="c0">The right-hand side is the properties for the newly created or selected parameter.</span></p>
<h2 id="creating-user-parameters">Creating User Parameters</h2>
<p>To create a new user parameter in the Parameter Manager you first click the Plus icon in the top-left of the dialog. Then, choose a parameter type:</p>
<p><img class="image image-block image-center" src="https://lh3.googleusercontent.com/izer4exdpm8C3zY7bj5wXk_VsPbdk55YmjDCYtyGDMt66Laq7VIxmr61-ViOyvzOBpl1sFzeRaIgnvyy4uRXwcsMlNdB7WNQGMv-cShSPdqbl6rnhFJ4_4-jBJC8vCPaYHZ9GyFhNxHA29isxxtHK1I" alt="Creating a user parameter in the Parameter Manager" width="627" height="478" /></p>
<div class="box message info">
<div class="inner">
<div class="bd">
<div class="media">
<blockquote><img class="img mtm" role="presentation" src="https://safemytrailhead.s3.us-west-2.amazonaws.com/images/safe_note.png" alt="Note" /><br /><br /><span style="font-family: inherit; font-size: 1em;">You'll learn more about these different types in a later lesson,&nbsp;</span><strong>Choose the Correct Parameter Type</strong><span style="font-family: inherit; font-size: 1em;">.</span></blockquote>
</div>
</div>
</div>
</div>
<p>After choosing your parameter type, you can configure the new parameter on the right side of the dialog.</p>
<p><img class="image image-block image-center" src="https://lh4.googleusercontent.com/aVCpoXBKcCNwkKj3EgnwEPiUd9_bu11ttWMiXdjRWW_Yfx64U2flFBZEfog6WuyFQlYfkRwdqLIHCGKWWEvM3d45a8VulJRBxK5z-hh4Ggt4uduOOMw7tYk_IHFchrwyCleEiqAEz0AA3gUFqwnd0FA" alt="Filling out the right side of the Parameter Manager" width="686" height="800" /></p>
<p>While the exact configuration varies by parameter type, the shared options include:</p>
<ul class="c20 lst-kix_e3wc36us03cl-0 start">
<li class="c21 c18 c19 li-bullet-0"><strong><span class="c27">Parameter Identifier</span></strong><span class="c4">: a short, unique name for the parameter. This name is used to reference the parameter in values (for example,</span><span class="c35">&nbsp;<code>$(myIdentifier)</code></span><span class="c0">) and menus.</span></li>
<li class="c21 c18 c19 li-bullet-0"><strong><span class="c27">Prompt</span></strong><span class="c0">: the prompt for the parameter that appears when an end-user runs the workspace on Form or Flow.</span></li>
<li class="c21 c18 c19 li-bullet-0"><strong><span class="c27">Published</span></strong><span class="c0">: if checked, the parameter is created as a published parameter. If unchecked, the parameter is created as a private parameter.</span></li>
<li class="c21 c18 c19 li-bullet-0"><strong><span class="c27">Required</span></strong><span class="c0">: if checked, the workspace does not run unless the user inputs a value. If unchecked, an input value is not required for this parameter.</span></li>
<li class="c21 c18 c19 li-bullet-0"><strong><span class="c27">Disable Attribute Assignment</span></strong><span class="c0">: This setting controls whether the end-user can select an attribute to provide values to a user parameter.</span></li>
<li class="c21 c18 c19 li-bullet-0"><strong><span class="c27">Conditional Visibility</span></strong><span class="c0">: if checked, author will be able to configure conditions on when the published user parameter is shown to the end-user.</span></li>
<li class="c21 c18 c19 li-bullet-0"><strong><span class="c27">Default Value</span></strong><span class="c0">: choose the default value that will be used.</span></li>
</ul>
<p>After configuring your user parameter you can click OK to close the dialog or the plus to add another. You can use the other buttons to move and remove parameters.</p>
<p><img class="image image-block image-center" src="https://lh6.googleusercontent.com/mvhv-OzI7iNn7VQFpVqNLCuquXYM-LQoIu3dsPTihdZBIOXu5pDRojGp2WFyyAp2Lr_y7TixLvUtPPony_InD1IkZP0JF-mdGh-IIXBVJcldbZfeJIqDv3P4Ov4HiU6PCh3A60h_xV0sMA6U974BEOc" alt="The Parameter Manager buttons" width="279" height="39" /></p>
<h2 id="linking-user-parameters">Linking User Parameters</h2>
<p>After creating user parameters using the Parameter Manager, they will appear in the Navigator under User Parameters. At this point, the user parameter exists, but it does not actually control anything. To use it to control your workspace, you need to link it to a parameter elsewhere in the workspace. Find the parameter, right-click it, and choose User Parameter &gt; Link to User Parameter. Here we are linking a Text user parameter named Delimiter to the Delimiter Character parameter of a CSV reader:</p>
<p><img class="image image-block image-center" src="https://lh3.googleusercontent.com/9wu3Gjww4KzSrW0Ev-ofzBYNG_iAkh9qhBuXDYKzoYegwFoc2xA_x2i3g6Wmbksi_Qa7ALFSAA0vPZmPiQL6ZuQb-8vNJdpu2ipPF0uqDpsmoJD08abIZBYum9H7NYP5stGch8MwmN2ixKx21DfPeDo" alt="Linking an FME parameter to a user parameter" width="741" height="345" /></p>
<p>You can also link user parameters directly in transformer dialogs using the drop-down arrow and choosing User Parameter:</p>
<p><img class="image image-block image-center" src="https://lh5.googleusercontent.com/5ThAbLeL_fj6KKER5PX6qw08-cKMNl-haCLGDMjVdISYNc6Nxep3OzOc6n-DRvom1gYkCHnMmRWSQz6BqySJbC7K4T1Lr0-5i2Kxa3bRMhUYFzdofWbUw_V5T_RP1ZPI7EcQ4-AaiHQl8NRMi0m3GRI" alt="Linking to a user parameter from a transformer dialog" width="595" height="382" /></p>