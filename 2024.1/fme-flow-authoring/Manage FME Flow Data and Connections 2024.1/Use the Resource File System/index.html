<h2 id="learning-objectives">Learning Objectives</h2>
<p>After completing this lesson, you&rsquo;ll be able to:</p>
<ul>
<li>Define the FME Flow Resource file system.</li>
<li>Explain how to add network drives or Amazon S3 buckets as resources.</li>
<li>Explain the difference between repositories and resources.</li>
<li>Summarize each data publishing method and evaluate when they are best used.</li>
</ul>
<h2>Video</h2>
<!-- The script tag should live in the head of your page if at all possible -->
<p>
<script type="text/javascript" src="https://play.vidyard.com/embed/v4.js"></script>
</p>
<!-- Put this wherever you would like your player to appear -->
<p><img class="vidyard-player-embed" style="width: 100%; margin: auto; display: block;" src="https://play.vidyard.com/bWtCWTj2fsHW3xrrJLvoTM.jpg" data-uuid="bWtCWTj2fsHW3xrrJLvoTM" data-v="4" data-type="inline" /></p>
<h2 id="what-are-resources">What are Resources?</h2>
<p>The final and preferred method of managing source data in FME Flow is to use Resources.</p>
<p>"Resources" is an inbuilt file management system that allows data (and other files) to be published to an FME Flow instance and used within all FME Flow operations. Resources can be managed through the Resources page accessed from the main menu.</p>
<p><img class="image image-block image-center" src="https://lh4.googleusercontent.com/SQ5lENb3qcE6AMpz-f8tPUXRpTXvagTg33-xQs_OEXGFvpOv54p6QKY0xoMjdM1W6brDCVxyDBzisO7Fnch3oA9j8K1uuFaReAhft4ozUWx7sOxEPFzRaMgiJ273--uZ_OcxTh20Ia-RP2xFpKRW90w" alt="Browsing to the Resources page on FME Server" width="243" height="142" /></p>
<p>The Resources page is where you can find all of the files that are uploaded to FME Flow and also the files that are created by FME Flow:</p>
<p><img class="image image-block image-center" src="https://lh6.googleusercontent.com/08ujoPm7yu17Xzp7DzHWXaxRsoTaM-Z3JUitSi90ctZZg_3DiQk4WdiNwSl9I9dcCM2D3zrVtqhswdtmf1oAi6VfC8xZIpGl6DPpc9EW5gE2dpY8rRMPDQSzeYorIGbfgCOaZaVhJKL2K78v1Otky3U" alt="The Resources page" width="759" height="673" /></p>
<p>As you can see, the Resources file system is set up with many default folders in which files can be stored. Custom folders that you create can also be added to the file system, we'll do this in the next exercise. For datasets the most logical folder to use is the Data folder:</p>
<p><img class="image image-block image-center" src="https://lh6.googleusercontent.com/oYetto7PrOUi9brQZJHAigNAp9XVPzlN6Zfk6nf5vHlIZhxzmU0NwihJZWvrP7i5q_ED_YPy_mUWS8hJ9f8d57K3llJD4vdywOTFLrLky9sfvr2eUnhISKpOZsxMOb5K-5240wbGIMAsydZ6sxwZS6w" alt="Possible Actions on the Resources page" width="643" height="470" /></p>
<p>Above is the Data folder containing several files. Once a dataset has been checked, the&nbsp;<strong>Actions</strong> button is no longer grayed out and lists various actions that can be performed on the file or folder, such as duplicate, edit, upload, copy, delete, or move files (or folders).</p>
<blockquote>
<p><img class="img mtm" role="presentation" src="https://safemytrailhead.s3.us-west-2.amazonaws.com/images/safe_note.png" alt="Note" /></p>
<p><span style="font-family: inherit; font-size: 1em;">Remember that resources and repositories are different. Workspaces should be published to repositories. You will not be able to run them if you upload them to a resource.</span></p>
</blockquote>
<h2 id="other-upload-methods">Other Upload Methods</h2>
<p>Besides the web interface, there are other ways of getting data into the Resources file system.</p>
<p><strong>FME Flow Publishing Wizard</strong></p>
<p>First is the FME Flow publishing wizard in FME Workbench. If not otherwise specified at installation, the default method is to select the files and upload them to the same repository as the workspace. This is the method covered in previous lessons in this course. However, it is preferable to change the location to the Resources file system:</p>
<p><img class="image image-block image-center" src="https://lh6.googleusercontent.com/yO4IaCJxs9kPTztW4_IQ0Kass_kYod7qDwymjoxaxLe2Wg85MSMJjj1MOuUbSsEc3o38iybIrn1sW9Fb2CQOIDm3jUY6FW4y0UO3U2TMdPzk0aP1qWxP4XzpUFVFJmIMA_zuP9IZYFuIDAIY8oUL_H0" alt="Selecting the shared Data folder" width="501" height="520" /></p>
<p><strong>Server File System</strong></p>
<p>Alternatively, FME Flow resources actually exist on the server machine's file system, meaning the data can be copied there directly. The default location (on a Windows operating system) is <code>C:\ProgramData\Safe Software\FMEFlow\resources</code>.</p>
<blockquote>
<p><img class="img mtm" role="presentation" src="https://safemytrailhead.s3.us-west-2.amazonaws.com/images/safe_note.png" alt="Note" /></p>
<p><span style="font-family: inherit; font-size: 1em;">ProgramData is a hidden folder. In order to see it on your Windows machine, click the View tab on the ribbon in Windows Explorer, then in the Show/Hide category, enable Hidden Items.</span></p>
</blockquote>
<p><strong>FME Flow Resources Page</strong></p>
<p>A final way to upload data to the Resource system is to click the New button on the main Resources page in FME Flow. This button allows a connection to be made directly to a network-based resource via a UNC path or an Amazon S3 file system (for upload or download).</p>
<p><img class="image image-block image-center" src="https://lh3.googleusercontent.com/r3OuqpT7x5mtbi0Ujykr8-2iu4b2xmjNP_PxKpQnYtvgKyxTflG1ByLN0OMpYEt5qUqh2RETxMWIBKrmgZBkHIpldNmxXu9FL07XWRL9zk1q8lNkTajioHbo_NvvHLp-uhLxsX9efp-fsC7zB6PJu6c" alt="Creating a new resource" width="562" height="793" /></p>
<p>Some important limitations include that while network-based resources can be used within workspaces, Amazon S3 file systems cannot. Additionally, the resources must be shared with the FME Flow Service Account to use them with FME Flow Services.</p>
<h2 id="using-uploaded-data">Using Uploaded Data</h2>
<p>Using Resources data in a translation is simply a case of selecting it from that folder where prompted. All prompts for data allow the selection of files from a Resources folder.</p>
<p>For example, a user has uploaded a MapInfo TAB Parks dataset to the Resources data folder. Provided the source dataset is a published parameter, when the workspace is run the user is able to select data from the Resources folders, like so:</p>
<p><img class="image image-block image-center" src="https://lh5.googleusercontent.com/VYf5N2SDiZLdQ_oH0VJeyk_oXOsGp7IU9XxEC1FMNB43VhIF6RMrc3T-qYaml3jVJgWezSDuSn-O83HVk88fEH_oYQtOhhqOoPmKI8eATNVsm1VowqV9AgUL4OGA1CpqgOrzvuQAzNsBmmJiW6PIe18" alt="Using uploaded data" width="658" height="685" /></p>
<p>In fact, it's even possible to set the output data folder to be a Resources folder too:</p>
<p><a href="https://s3.amazonaws.com/gitbook/Server-Authoring-2020/ServerAuthoring2DataHandling/Images/Img2.024.ResourcesDataOutputFolder.png" target="_blank" rel="noreferrer noopener"><img class="image image-block image-center" src="https://lh4.googleusercontent.com/hUMoSgk_nu7sZua2sH_F82VfNKxOQSGLp2c89o-mXHQLew--rS8eQqAi-6Xvxu4uqpD1TxbvW8KvgAdwERHF8B80xzB4skbpZisj4yqqOPKKQKoWGgcbDBKQQ28A7zci5DI9hLwharjuWFiE3rR1_cA" alt="Using data from the shared Resources data folder with a user parameter" width="812" height="162" /></a></p>
<p>Don't be concerned that the value doesn't show the full file path but rather a value contained within&nbsp;<code>$()</code>. When a folder is stored in Resources, it is assigned an FME Flow User Parameter value, which is essentially a shortcut to the FME Flow System Share file path.</p>
<blockquote>
<p><img class="img mtm" role="presentation" src="https://safemytrailhead.s3.us-west-2.amazonaws.com/images/safe_note.png" alt="Note" /></p>
<p><span style="font-family: inherit; font-size: 1em;">You can learn more about user parameters and the&nbsp;</span><code style="font-size: 16px;">$()</code><span style="font-family: inherit; font-size: 1em;">&nbsp;notation in&nbsp;</span><strong>Build Versatile Self-Serve Workflows</strong><span style="font-family: inherit; font-size: 1em;">.</span></p>
</blockquote>
<h2 id="benefits-for-data-management">Benefits for Data Management</h2>
<p>There are several benefits to using the Resources file system as a data storage tool:</p>
<ul>
<li>Data can be used by any workspace, without having to upload it every time.</li>
<li>Data can be stored locally (to the FME Flow Engines), even when access to the operating system's file system is restricted by an FME Flow Administrator.</li>
<li>A Resources folder can be mapped and shared among many users as a physical drive.</li>
<li>A Resources folder is a more permanent solution than temporary uploads. Data is not removed by automated system cleaning tools.</li>
</ul>