<h2 id="learning-objectives">Learning Objectives</h2>
<p><span style="font-weight: 400;">After completing this lesson, you&rsquo;ll be able to:</span></p>
<ul>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">Create an FME Flow App.</span></li>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">Run an FME Flow App.</span></li>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">Customize an FME Flow App.</span></li>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">Create a webhook for an FME Flow App.</span></li>
</ul>
<h2 id="resources">Resources</h2>
<ul>
<li style="font-weight: 400;" aria-level="1"><a href="https://s3.amazonaws.com/FMEData/FMEData/Workspaces/CreateDataIntegrationApps/earthquakesextrusion.fmw"><span style="font-weight: 400;">earthquakesextrusion.fmw</span></a>
<ul>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">C:\FMEData\Workspaces\CreateDataIntegrationApps\earthquakesextrusion.fmw</span></li>
</ul>
</li>
<li style="font-weight: 400;" aria-level="1"><a href="https://s3.amazonaws.com/FMEData/FMEData/Resources/CreateDataIntegrationApps/example.geojson"><span style="font-weight: 400;">example.geojson</span></a><span style="font-weight: 400;"> (a GeoJSON file of earthquake locations. This file can be used in the unlikely event the USGS Earthquake API goes down)</span>
<ul>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">C:\FMEData\Resources\CreateDataIntegrationApps\example.geojson</span></li>
</ul>
</li>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">You will need Google Earth Pro installed to view the results of the Flow App. You can download it for free</span><a href="https://www.google.com/earth/versions/#download-pro"><span style="font-weight: 400;"> </span><span style="font-weight: 400;">here</span></a><span style="font-weight: 400;">.</span>
<ul>
<li style="font-weight: 400;" aria-level="2"><span style="font-weight: 400;">If you are taking an official Safe Software training course, it is already installed on your training machine.</span></li>
</ul>
</li>
<li style="font-weight: 400;" aria-level="1"><a href="https://s3.amazonaws.com/FMEData/FMEData/Workspaces/CreateDataIntegrationApps/exercise-create-an-fme-flow-app-complete.fsproject"><span style="font-weight: 400;">Complete FME Flow project</span></a>
<ul>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">C:\FMEData\Workspaces\CreateDataIntegrationApps\exercise-create-an-fme-flow-app-complete.fsproject</span></li>
</ul>
</li>
<li style="font-weight: 400;" aria-level="1"><a style="font-family: inherit; font-size: 1em; background-color: #ffffff;" href="https://s3.amazonaws.com/FMEData/FMEData/Resources/FlowAuthoring/FlowApps/Seismograph.jpg">Seismograph.jpg</a>
<ul>
<li style="font-weight: 400;" aria-level="1"><span style="font-weight: 400;">C:\FMEData\Resources\FlowAuthoring\FlowApps\Seismograph.jpg</span></li>
</ul>
</li>
</ul>
<h2>Video</h2>
<!-- The script tag should live in the head of your page if at all possible -->
<p>
<script type="text/javascript" src="https://play.vidyard.com/embed/v4.js"></script>
</p>
<!-- Put this wherever you would like your player to appear -->
<p><img class="vidyard-player-embed" style="width: 100%; margin: auto; display: block;" src="https://play.vidyard.com/bWtCWTj2fsHW3xrrJLvoTM.jpg" data-uuid="bWtCWTj2fsHW3xrrJLvoTM" data-v="4" data-type="inline" /></p>
<h2 id="introduction">Introduction</h2>
<p>You have successfully published a workspace to FME Flow that creates a 3D visualization of recent earthquakes around the world in KML format, using <a href="https://www.usgs.gov/natural-hazards/earthquake-hazards/earthquakes" target="_blank" rel="noreferrer noopener">data from the United States Geological Survey</a>. Now you are getting requests from other users who do not have FME Flow accounts but want to be able to run the workspace on demand.</p>
<p>Let's create an FME Flow App so that anyone with the URL can run this workspace to get an up-to-date KML whenever they wish.</p>
<h2 id="1-connect-to-server">1) Connect to Flow</h2>
<p>Browse to the login page of the FME Flow interface, and log in using the administrator account (admin/FMElearnings).</p>
<h2 id="2-open-server-apps">2) Open Flow Apps</h2>
<p>Expand Flow Apps from the side menu, then click Create Workspace App, to create a new Workspace App.</p>
<p><img class="image image-block image-center" src="https://lh5.googleusercontent.com/Z4FzbMfry37B51lDzt1RcOqbCGOIyhwLK0MVBWrLwgZbqp0f4tbqDaO8WCgHUDi27Bpk7ezaYv0EkSrw_5WfxQpdP5EencS9dEojwXn7LTZ9XbNA0ke4gvpomKwiQzJe1ZAredgxuzshBaonURty89Y" alt="Build Workspace App menu option" width="238" height="234" /></p>
<h2 id="3-configure-server-app">3) Configure Flow App</h2>
<p>Set a Name, Title, and Description for your new Flow App. The Name is what is displayed in the list of Workspace Apps and the Title and Description is what will be displayed on the actual App. Select the Samples Repository and the earthquakesextrusion.fmw workspace. Select &lsquo;Data Streaming&rsquo; as the Service. &nbsp;This will allow the information to be streamed back to the user directly within the browser (if supported).</p>
<div class="box message info">
<div class="inner">
<div class="bd">
<div class="media">
<blockquote><img class="img mtm" role="presentation" src="https://safemytrailhead.s3.us-west-2.amazonaws.com/images/safe_note.png" alt="Note" /><br /><br /><span style="font-family: inherit; font-size: 1em;">If for some reason your FME Flow is missing this default included workspace, you can download it </span><a style="font-family: inherit; font-size: 1em; background-color: #ffffff;" href="https://s3.amazonaws.com/FMEData/FMEData/Workspaces/CreateDataIntegrationApps/earthquakesextrusion.fmw" target="_blank" rel="noreferrer noopener">here</a><strong style="font-family: inherit; font-size: 1em;">&nbsp;</strong><span style="font-family: inherit; font-size: 1em;">and then publish it.</span></blockquote>
</div>
</div>
</div>
</div>
<p>You can leave the expiration time at its default value, which will allow the API Token to expire after 10 years. You could set this to a shorter time if you only want to grant access for a smaller time window.</p>
<p>Keep the Require Authentication toggle disabled. This setting will allow anyone with the URL to run the workspace.</p>
<p>Keep the Users Can Upload toggle enabled. This setting will allow users to upload their own GeoJSON input file instead of using the USGS data.</p>
<p><img class="image image-block image-center" src="https://lh3.googleusercontent.com/2SUyBqjoZAijRWL-XVBg_qmeF9VWyb05qR-_hpVHScn9brpbac9KI9U_i8WOus3Ip86qSmHjImzYq9TuvbAnJ-4SuxyHt34zZQSJouQ7NudyXGVcOlR3rcXRsMqialsVwFSsX56OwgB3qDoK83ncQsA" alt="Create Workspace App filled out" width="612" height="609" /></p>
<h2 id="4-check-the-parameters-section">4) Check the Parameters Section</h2>
<p>There are two collapsed sections below the first: Parameters and Customize. Click the Parameters section to expand it. You will see the workspace's user parameters, similar to how they appear on the Run Workspace page on FME Flow. You can see the source dataset is set to a URL (<a href="http://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/2.5_week.geojson" target="_blank" rel="noreferrer noopener">http://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/2.5_week.geojson</a>), pulling the recent earthquake data directly from the USGS web service.</p>
<p><img class="image image-block image-center" src="https://lh5.googleusercontent.com/hTz-UyYZjGZBpQfb_gYLnPl7yIKn8k2w2T_Og_ruPdnObMXIkiG_oUraWgHoiJscccTpU7jqbJQtbOBzZ1HJgN4YEQykl06r6PPnWm-JekIL4Vdo28LVHoTZmybiSmoTDukv1PbKQnr-SU0y4dpZoGc" alt="Expanded Parameters section" width="612" height="278" /></p>
<p>We don't want to modify how this works.</p>
<p>The Customize section lets you change the appearance of your Flow App, but you will learn more about that in the next lesson.</p>
<p>Click OK to accept.</p>
<h2 id="4-test-the-fme-server-app">5) Test the FME Flow App</h2>
<p>Now that your App has been created, you'll see that a URL was generated for it.</p>
<p><img class="image image-block image-center" src="https://lh5.googleusercontent.com/zFpLL2oL2yJ41uJxKqgSp0E9c7RvT2kP7bjnjT9q3mR2qj3uoJ_9cG8nkKgBjNgrMLBVfKBrxXtEion4MD5yiLEdktZyvh9rssUe-Mw70DWDIpVuMMcshWM2PeQOF-HJWkFEcj8Csyaq6CEQjRQOpXU" alt="Workspace App created page" width="612" height="458" /></p>
<p>Click on the URL to open it. You will see that it opens a webpage very similar to the Run Workspace page in FME Flow, but it has no options other than to run this one workspace and it does not require a user to enter a username and password to access it.</p>
<p><img class="image image-block image-center" src="https://lh3.googleusercontent.com/OojIzaNxDTluhH3TvTcDdRR2s9HTC_cN1XaICGqBqmgCmC0aN4ykjb_acgm1f0LxhS7vcX2JAwOol8qw5qbbEXeU-RhX6hM3VT6iF51dLAuB4GzlAyONhA3uyHxjIG01rFDJ2nUR6VDYQzJt8sEUNps" alt="Recent Earthquake Visualization Server App" width="612" height="566" /></p>
<div class="box message info">
<div class="inner">
<div class="bd">
<div class="media">
<blockquote><img class="img mtm" role="presentation" src="https://safemytrailhead.s3.us-west-2.amazonaws.com/images/safe_note.png" alt="Note" /><br /><br /><span style="font-family: inherit; font-size: 1em;">If the workspace failed, you should ensure that the source data is available. Check the FME Flow logs for more clues. If for some reason the USGS source data is not available, you can use this </span><a style="font-family: inherit; font-size: 1em; background-color: #ffffff;" href="https://s3.amazonaws.com/FMEData/FMEData/Resources/CreateDataIntegrationApps/example.geojson" target="_blank" rel="noreferrer noopener">example.geojson</a><span style="font-family: inherit; font-size: 1em;">&nbsp;file instead.</span></blockquote>
<blockquote>
<h2>6) Edit Flow App</h2>
<p><span style="font-weight: 400;">You created the Recent Earthquake Visualization Flow App in the last exercise. To edit it, click the Flow Apps section in the FME Flow menu, and then click Manage Workspace Apps.</span></p>
<p><span style="font-weight: 400;"><img src="images/1725896478821.png" alt="" width="230" height="225" /></span></p>
<p><span style="font-weight: 400;">Click on earthquakes-extrusion to edit it.</span></p>
<p><span style="font-weight: 400;"><img src="images/1725896506962.png" alt="" width="689" height="58" /></span></p>
<h2>7) Customize Flow App</h2>
<p><span style="font-weight: 400;">Now you have an FME Flow App but you want it to be public-facing and you want to have your brand and colors reflected on the page. Luckily, you can customize your App in a number of ways.</span></p>
<p><span style="font-weight: 400;">Below the workspace selection area, you will see the collapsed Parameters and Customize sections.</span></p>
<p><span style="font-weight: 400;">Expand Customize by clicking on it. Here you can control many areas of the Flow App page to match your organization's branding, including:</span></p>
<ul>
<li style="font-weight: 400;" aria-level="1"><strong>Title</strong><span style="font-weight: 400;">: The title will be displayed at the top of the app and in the browser tab.</span></li>
<li style="font-weight: 400;" aria-level="1"><strong>Background Color</strong><span style="font-weight: 400;">: The background color will be displayed at the top of the app.</span></li>
<li style="font-weight: 400;" aria-level="1"><strong>Heading Image</strong><span style="font-weight: 400;">: The heading image will be used at the top of the app. There is a 1 MB file size limit for the heading image.</span></li>
<li style="font-weight: 400;" aria-level="1"><strong>Icon</strong><span style="font-weight: 400;">: The icon will be visible in the browser tab. There is a 300 KB file size limit for icon images.</span></li>
</ul>
<p><span style="font-weight: 400;">Here is where those different elements will appear on the App page:</span></p>
<p><span style="font-weight: 400;"><img src="images/1725896539282.png" alt="" width="600" height="657" /></span></p>
<p><span style="font-weight: 400;">Change Header Background Color to green. Then download</span><a href="https://s3.amazonaws.com/FMEData/FMEData/Resources/FlowAuthoring/FlowApps/Seismograph.jpg"><span style="font-weight: 400;"> </span><span style="font-weight: 400;">Seismograph.jpg</span></a><span style="font-weight: 400;"> and set it as the Footer Logo. You can also edit any of the other customization parameters if you wish.</span></p>
<p><span style="font-weight: 400;"><img src="images/1725896718888.png" alt="" width="600" height="631" /></span></p>
<p><span style="font-weight: 400;">Click OK to finish editing the Flow App.</span></p>
<h2>8) View Customized Flow App</h2>
<p><span style="font-weight: 400;">Click the link on the resulting page to view your app.</span></p>
<p><span style="font-weight: 400;"><img src="images/1725896608763.png" alt="" width="600" height="426" /></span></p>
<p><span style="font-weight: 400;">You should see a green header and large footer image</span></p>
<p><span style="font-weight: 400;"><img src="images/1725896630490.png" alt="" width="600" height="411" /></span></p>
</blockquote>
</div>
</div>
</div>
</div>
<h2 id="advanced-exercise-optional">Advanced Exercise (Optional)</h2>
<p>We've been requested to create a webhook to share our workspace with customers in an email.</p>
<p>From the Run Workspace page, ensure that the Workspace is set to earthquakesextrusion.fmw, then from the Workspace Actions drop-down select Create Webhook</p>
<p><img class="image image-block image-center" src="https://lh3.googleusercontent.com/BuYE8KhNBh8YAxoMrPGncRn0Qh-U-VgvElKA6aiFgYCdYmODcP9XXRClGXmlPBjpKNEKbqaCxpeaN801UFV4LXOmXq2MhU5PWI9muSLBoyg0LzpGxpGH29seHVB2hay0217i3dQIJmzbz3kybpYO1FI" alt="Create Webhook menu option" width="267" height="262" /></p>
<p>On the Create Webhook page, we can just accept the defaults for the parameters. Optionally, you can add additional permissions for the user, such as access to the data folder. Click OK to create the Webhook.</p>
<p>Before closing the Webhook URL page, ensure that you download your Webhook token and parameters as this will be the only time you can do so. If you forget to download it or lose the file, you will have to recreate the Webhook.&nbsp;</p>