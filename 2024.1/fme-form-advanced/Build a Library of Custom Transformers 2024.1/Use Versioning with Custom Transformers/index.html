<h2 id="learning-objectives">Learning Objectives</h2>
<p>After completing this lesson, you&rsquo;ll be able to:</p>
<ul>
<li>Explain custom transformer versions.</li>
<li>Create a new custom transformer version.</li>
<li>Edit a specific custom transformer version.</li>
<li>Explain the relationship between custom transformer versions and FME versions.</li>
<li>Update a custom transformer version.</li>
</ul>
<h2 id="custom-transformer-versioning">Custom Transformer Versioning</h2>
<p>FME allows tracking versions for external file definitions of custom transformers (linked transformers). Users can save a new version when they edit a custom transformer definition.</p>
<p>In that way, a single FMX file can contain multiple versions of the same custom transformer.</p>
<p>Versioning allows the author of a custom transformer to revert to a previous definition should the need arise. It also allows users to create a different definition for each version of FME. The custom transformer remains backward-compatible with older FME versions but has enhanced functionality in newer versions.</p>
<h2 id="creating-a-versioned-custom-transformer">Creating a Versioned Custom Transformer</h2>
<p>After editing an&nbsp;<em>unversioned</em>&nbsp;custom transformer, clicking the save button issues the following prompt:</p>
<p><img class="image image-block image-center" src="images/1724781208412.png" alt="Save Transformer prompt" width="502" height="179" /></p>
<p>The two versioning options are to&nbsp;<strong>Overwrite</strong>&nbsp;the existing version or create a&nbsp;<strong>New Version</strong>.</p>
<p>Essentially, the prompt asks whether to activate versioning. Clicking New Version versions the transformer and saves the edits as version 2. Note that creating a new version does not create a separate FMX file; instead, it creates a different version of the transformer within the same FMX file.</p>
<p>The title bar in Workbench illustrates the version number of a custom transformer file:</p>
<p><img class="image image-block image-center" src="images/1724781217466.png" alt="Checking the version in the Workbench window title" width="703" height="113" /></p>
<p>The transformer remains unversioned if you choose Overwrite in the Save Transformer dialog.</p>
<h2 id="editing-a-specific-transformer-version">Editing a Specific Transformer Version</h2>
<p>Opening a&nbsp;<em>versioned</em>&nbsp;custom transformer in Workbench issues the following prompt:</p>
<p><img class="image image-block image-center" src="images/1724781229252.png" alt="Select Transformer Version prompt" width="386" height="200" /></p>
<p>This prompt asks which version you wish to edit or whether you want to start with a new version. You can:</p>
<ul>
<li>Create a new version to edit</li>
<li>Continue making edits to the existing version</li>
<li>Make edits to an older version (particularly useful when you can only use that version with an older FME release)</li>
</ul>
<p>It&rsquo;s essential to know that this dialog is the only way to create a new version. Clicking the save button only saves updates to the currently open version. To create a new version, you must close and reopen the file, causing the Select Transformer Version dialog to appear.</p>
<h2 id="transformer-and-fme-versions">Transformer and FME Versions</h2>
<p>Each version of a custom transformer is associated with a particular FME version. You can choose to make edits to a transformer created in an older version of FME, but you will receive a warning message:</p>
<p><img class="image image-block image-center" src="images/1724781238989.png" alt="Transformer From Older FME warning" width="502" height="179" /></p>
<p>Here, a user created version 1 with FME 2020, and the author is attempting to edit it in FME 2022. Should they proceed, version 1 of the transformer will no longer be valid for use in FME 2020.</p>
<blockquote>
<p><img class="img mtm" role="presentation" src="https://safemytrailhead.s3.us-west-2.amazonaws.com/images/safe_note.png" alt="Note" /></p>
<p>Sometimes, you can get confused about these dialogs (well, I can), so let me set you straight:</p>
<p>When you first export a custom transformer, you don&rsquo;t get the Select Version dialog (because the transformer is still unversioned). You also don&rsquo;t get the Save Version dialog (because why create a new version when you just exported this transformer?)</p>
<p>When you open the definition (FMX file) the next time, you again don&rsquo;t get the Select Version dialog (because it is still unversioned). But you will get the Save Version dialog when you save the changes, allowing you to make the transformer version.</p>
<p>From that point on, you&rsquo;ll always get the Select Version dialog when you open the FMX file (because the transformer is now versioned), but for the same reason, you&rsquo;ll never get the Save Version dialog when you save edits.</p>
</blockquote>
<h2 id="updating-a-transformer-version">Updating a Transformer Version</h2>
<p>Suppose you turn on the option to display the transformer version (Tools &gt; FME Options &gt; Transformers &gt; Display transformer version). In that case, each linked custom transformer displays its version number in the summary annotation:</p>
<p><img class="image image-block image-center" src="images/1724781247490.png" alt="Viewing transformer version in Attached Annotation" width="256" height="214" /></p>
<p>When FME detects that a new version is available (i.e., the author has made edits and saved them as a new version) and that this version is compatible with the current FME version, then an option appears on the context menu to allow an update:</p>
<p><img class="image image-block image-center" src="images/1724781256110.png" alt="Upgrading a custom transformer to the latest version" width="483" height="390" /></p>
<p>Choosing to upgrade means the transformer becomes linked to the latest version, and the summary annotation updates to reflect the change.</p>
<p>You can also upgrade eligible custom transformers in the Navigator, just like you upgrade FME transformers when moving to a new FME version. Custom transformers will appear under Upgradable Transformers, just like regular transformers. <a href="https://docs.safe.com/fme/html/FME-Form-Documentation/FME-Form/Workbench/Working_With_Transformer_Versions.htm" target="_blank" rel="noopener">You can learn more about upgrading FME transformers in the documentation</a>.</p>
<p><img class="image image-block image-center" src="images/1724781264614.png" alt="Upgrading a custom transformer via the Navigator" width="376" height="233" /></p>
<blockquote>
<p><img class="img mtm" role="presentation" src="https://safemytrailhead.s3.us-west-2.amazonaws.com/images/safe_note.png" alt="Note" /></p>
<p><strong>‚≠êNew for FME 2024.0</strong>: you can now upgrade multiple transformers simultaneously. <a href="https://docs.safe.com/fme/html/FME-Form-Documentation/FME-Form/Workbench/Working_With_Transformer_Versions.htm#UpgradingMultipleTransformers" target="_self">Learn more</a>.</p>
</blockquote>