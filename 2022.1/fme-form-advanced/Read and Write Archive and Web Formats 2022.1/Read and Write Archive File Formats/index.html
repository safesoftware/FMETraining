<h2 id="learning-objectives">Learning Objectives</h2>
<p>After completing this lesson, you&rsquo;ll be able to:</p>
<ul>
<li>Read archive file formats with FME Workbench.</li>
<li>Write archive file formats with FME Workbench.</li>
<li>Identify when writing to an archive file format is helpful.</li>
</ul>
<h2 id="archive-file-handling">Archive File Handling</h2>
<p>Both FME readers and writers are capable of working with compressed, archived files of various formats. As well as a size reduction, these file types are a convenient way to store datasets that need handling as a single unit; for example, a set of multiple dataset files contained within a single zip file.</p>
<h2 id="archive-file-reading">Archive File Reading</h2>
<p>The dataset a reader reads is defined by the Source Dataset/Files parameter in the Navigator window:</p>
<p><img class="image image-block image-center" src="https://s3-us-west-2.amazonaws.com/safemytrailhead/modules/read-and-write-archive-and-web-formats/read-and-write-archive-file-formats/images/1664815600379.png" alt="Reading a zip file" /></p>
<p>As in the above screenshot, this dataset parameter can point to an archived file. You simply select the archive file in the source parameter, and FME will extract the data when it is being read.</p>
<p>This technique works regardless of whether the archived dataset is file-based (like a single AutoCAD file) or folder-based (like the set of files that make up a Shapefile dataset).</p>
<p>The only difficulty in setting this up is to remember that the file browser does not display archive files by default and that the file extension being viewed must be changed:</p>
<p><img class="image image-block image-center" src="https://s3-us-west-2.amazonaws.com/safemytrailhead/modules/read-and-write-archive-and-web-formats/read-and-write-archive-file-formats/images/1664815661785.png" alt="Selecting archive formats in the file filter" /></p>
<h2 id="archive-file-writing">Archive File Writing</h2>
<p>Writing data as an archive file is particularly useful for where the output data needs to be post-processed. For example, if you use a shutdown script to move or copy output data to a new location, handling a single archive file is more convenient than multiple data files.</p>
<p>The simplest way to create an archived output is to change the file extension in the output dataset field:</p>
<p><img class="image image-block image-center" src="https://s3-us-west-2.amazonaws.com/safemytrailhead/modules/read-and-write-archive-and-web-formats/read-and-write-archive-file-formats/images/1664815705535.png" alt="Setting a path with a zip ending" /></p>
<p>You can also specify the filename to be written inside the archive file. A shortcut button does this for you for Zip format archives:</p>
<p><img class="image image-block image-center" src="https://s3-us-west-2.amazonaws.com/safemytrailhead/modules/read-and-write-archive-and-web-formats/read-and-write-archive-file-formats/images/1664815765171.png" alt="Using the zip shortcut button" /></p>
<p>Notice the small icon in the dataset field that indicates the zipped status.</p>
<p>When the workspace is run, the log file reports the file creation at various points:</p>
<pre>MULTI_WRITER: Output will be zipped Zipping contents of temporary dataset Finished updating output zip file: `C:\FMEData\Output\Parks.zip'</pre>
<p>...and the output is, indeed, an archived dataset:</p>
<p><img class="image image-block image-center" src="https://s3-us-west-2.amazonaws.com/safemytrailhead/modules/read-and-write-archive-and-web-formats/read-and-write-archive-file-formats/images/1667238959916.png" alt="Output Parks.zip" /></p>
<div class="box message info">
<div class="inner">
<div class="bd">
<div class="media">
<blockquote><img class="img mtm" role="presentation" src="https://safemytrailhead.s3.us-west-2.amazonaws.com/images/safe_note.png" alt="Note" /></blockquote>
<div class="mediaBd">
<div class="message-media-content">
<blockquote>
<p>Some users may want to archive data to move or copy it to a different location as a single entity. A user parameter can be used in a TCL or Python shutdown script to find the name of the file just written, and the FeatureWriter transformer also provides the name of the dataset as an attribute.</p>
</blockquote>
</div>
</div>
</div>
</div>
</div>
</div>